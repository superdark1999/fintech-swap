(this["webpackJsonpluckyswap-exchange-v2"]=this["webpackJsonpluckyswap-exchange-v2"]||[]).push([[22],{1653:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return pi}));var r=n(2),c=n.n(r),i=n(18),a=n(14),o=n(12),s=n(0),l=n(3),u=n(1315),d=n(1301),b=n(93),j=n(205),p=n(38),x=n(41),f=n(414),O=n(23),h=n(37),m=n(1288),g=n(266),v=n(29),w=n(60),y=n(6),k=n(415),C=n(1333),I=n(126),S=n(428),T=function(e,t){return"".concat(parseInt(e),"h, ").concat(parseInt(t),"m")},F=function(e){var t=function(e){return 36e5*(parseInt(e/36e5)+1)}(e)-e,n=Object(S.a)(t/1e3).minutes,r=Object(S.a)(t/1e3).hours;return T(r,n)},D=function(e){var t=new Date;t.getTime()>e.getTime()&&e.setDate(e.getDate()+1);var n=(e.getTime()-t.getTime())/1e3,r=N(Math.floor(n/60/60%60)),c=N(Math.floor(n/60%60));return"".concat(r,"h: ").concat(c,"m")};function N(e){return"0".concat(e.toString()).substr(-2)}var z,B,E,W,L,P,R,A,H,U,M,K,Y,q,Q,_,V,G,Z,J,$,X,ee,te,ne,re,ce,ie,ae,oe,se,le,ue,de,be,je,pe,xe,fe,Oe,he,me,ge,ve,we,ye,ke,Ce,Ie=n(1),Se=l.default.div(z||(z=Object(o.a)(["\n  display: block;\n  width: 100%;\n"]))),Te=l.default.div(B||(B=Object(o.a)(["\n  margin-top: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),Fe=(l.default.div(E||(E=Object(o.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),Object(l.default)(y.wb)(W||(W=Object(o.a)(["\n  margin-right: 16px;\n"])))),De=function(){var e=Object(O.a)().chainId,t=Object(I.a)().fastRefresh,n=Object(s.useState)(""),r=Object(a.a)(n,2),o=r[0],l=r[1],u=Object(s.useState)(""),d=Object(a.a)(u,2),j=(d[0],d[1],Object(s.useState)(0)),p=Object(a.a)(j,2),x=(p[0],p[1],Object(w.o)().currentRound.endTime);console.log("endTime",x);var f=Object(b.a)();Object(C.a)(),56===e?v.d:v.c;return Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x&&(t=new Date(1e3*parseInt(x)),n=new Date,t.getTime()<n.getTime()?l("0h: 0m"):l(D(t)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,x]),Object(Ie.jsx)(Se,{children:Object(Ie.jsxs)(Te,{children:[Object(Ie.jsx)(Fe,{fontSize:"20px",bold:!0,color:"yellow",children:o}),Object(Ie.jsx)(y.wb,{fontSize:"20px",bold:!0,color:"invertedContrast",children:f(492,"Until next lottery")})]})})},Ne=Object(l.default)(y.I).attrs({as:"h1",size:"xl"})(L||(L=Object(o.a)(["\n  color: rgb(243, 193, 17);\n  margin-bottom: 5px;\n"]))),ze=Object(l.default)(y.wb)(P||(P=Object(o.a)(["\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n"]))),Be=l.default.div(R||(R=Object(o.a)(["\n  // background: url('../images/large-pc.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  padding-bottom: 60px;\n  padding-top: 60px;\n  background-color: #0000001a;\n"]))),Ee=Object(l.default)(k.a)(A||(A=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: 1fr 400px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),We=l.default.div(H||(H=Object(o.a)(["\n  flex: 1;\n  padding-right: 0;\n\n  "," {\n    padding-right: 24px;\n  }\n\n  "," {\n    padding-right: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Le=l.default.div(U||(U=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1;\n  padding-left: 0;\n  margin-top: 16px;\n\n  "," {\n    margin-top: 0;\n    padding-left: 24px;\n  }\n\n  "," {\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Pe=l.default.div(M||(M=Object(o.a)(["\n  margin-bottom: 20px;\n"]))),Re=function(){var e=Object(b.a)();return Object(Ie.jsx)(Be,{children:Object(Ie.jsxs)(Ee,{children:[Object(Ie.jsx)(We,{children:Object(Ie.jsx)("img",{src:"images/banner-jackpot.png",alt:""})}),Object(Ie.jsxs)(Le,{children:[Object(Ie.jsxs)(Pe,{children:[Object(Ie.jsx)(Ne,{children:e(708,"The LUCKY Lottery")}),Object(Ie.jsx)(ze,{children:e(710,"Buy tickets with LUCKY for collect more NFTs")}),Object(Ie.jsx)(ze,{children:e(712,"Win if 2, 3, or 4 of your ticket numbers match!")})]}),Object(Ie.jsx)(De,{})]})]})})},Ae=n(148),He=n(1316),Ue=n(119),Me=n(21),Ke=n.n(Me),Ye=function(e){var t=e.split("");return t.splice(0,1),t.reverse(),t.join("")},qe=function(e){var t=e.priceTicketInCake,n=e.discountDivisor,r=e.amountCollectedInCake,c=new Ke.a(n),i=new Ke.a(t),a=new Ke.a(r);return{isLoading:e.isLoading,userTickets:e.userTickets,status:e.status,startTime:e.startTime,endTime:e.endTime,priceTicketInCake:i,discountDivisor:c,treasuryFee:e.treasuryFee,firstTicketId:e.firstTicketId,lastTicketId:e.lastTicketId,amountCollectedInCake:a,finalNumber:e.finalNumber,cakePerBracket:e.cakePerBracket,countWinnersPerBracket:e.countWinnersPerBracket,rewardsBreakdown:e.rewardsBreakdown}},Qe=l.default.div(K||(K=Object(o.a)(["\n  position: relative;\n  background-color: rgb(43 41 41);\n  border: 0.0625rem solid rgba(255, 255, 255, 0.2);\n  border-radius: 1.25rem;\n  padding: 24px;\n  min-height: 496px;\n"]))),_e=(l.default.a(Y||(Y=Object(o.a)(["\n  margin-top: 1em;\n  text-decoration: none;\n  color: #101010;\n  background-color: transparent ;\n  border-radius: 12px;\n  padding: 17px 25px;\n  font-weight: 500;\n  white-space: nowrap;\n  border-radius: 100px;\n  border: 1px solid #F3C111;\n  color: #F3C111;\n  padding: 11px 60px;\n  font-size: 26px;\n  line-height: 30px;\n\n  @media (min-width) {\n    padding: 10px 25px;\n  }\n\n  &:hover {\n    background-color: #ffda3b;\n    color: #101010;\n    transition: 0.5s;\n  }\n"]))),l.default.div(q||(q=Object(o.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  border: 1px solid #f3c111;\n  border-radius: 14px;\n"])))),Ve=(l.default.div(Q||(Q=Object(o.a)(["\n  margin-top: -2.3em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"]))),l.default.div(_||(_=Object(o.a)(["\n  margin-top: -2.3em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n\n  @media (min-width: 768px) {\n    display: none;\n  }\n"]))),l.default.div(V||(V=Object(o.a)(["\n  text-align: center;\n"]))),l.default.div(G||(G=Object(o.a)(["\n  text-align: center;\n  margin-left: -1.2em;\n\n  @media (max-width: 600) {\n    margin-left: -0.2em;\n  }\n"]))),l.default.div(Z||(Z=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n"])))),Ge=l.default.div(J||(J=Object(o.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),Ze=l.default.div($||($=Object(o.a)(["\n  text-align: center;\n  align-items: center;\n"]))),Je=l.default.div(X||(X=Object(o.a)(["\n  text-align: center;\n  align-items: center;\n  padding-left: 2px;\n  padding-right: 2px;\n  font-weight: 500;\n  font-size: 26px;\n"]))),$e=l.default.div(ee||(ee=Object(o.a)(["\n  padding: 10px;\n  border-radius: 12px;\n  // text-shadow: rgb(255 214 0) 0px 0px 12px;\n  // background: linear-gradient(180deg, #54dade 0%, #24c7d6 76.22%);\n  color: white;\n  font-size: 20px;\n  font-weight: 900;\n  margin: 10px;\n  margin-bottom: 7px;\n  width: 40px;\n  color: #F3C111;\n\n  @media (min-width: 768px) {\n    font-size: 64px;\n    margin: 20px;\n    background: url('../images/bg-number.svg');\n    background-repeat: no-repeat;\n    width: 120px;\n    min-height: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n  }\n"]))),Xe=(l.default.div(te||(te=Object(o.a)(["\n  /* padding: 10px; */\n  border-radius: 12px;\n  margin: 16px 20px;\n  width: 60px;\n"]))),l.default.div(ne||(ne=Object(o.a)(["\n  padding-top: 10px;\n  padding-left: 10px;\n  border-radius: 12px;\n  margin: 20px;\n  width: 20px;\n"]))),l.default.div(re||(re=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"])))),et=l.default.div(ce||(ce=Object(o.a)(["\n  margin-bottom: 30px;\n"]))),tt=l.default.div(ie||(ie=Object(o.a)(["\n  color: ",";\n  font-size: 34px;\n  width: 50vw;\n  text-align: center;\n  font-weight: 1000;\n"])),(function(e){return e.theme.colors.secondary})),nt=l.default.div(ae||(ae=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    content: '';\n    background: url('../images/jackpot-l.png');\n    width: 220px;\n    height: 496px;\n\n    @media (max-width: 991px) {\n      opacity: 0.2;\n    }\n  }\n\n  &:after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    content: '';\n    background: url('../images/jackpot-r.png');\n    width: 220px;\n    height: 496px;\n\n    @media (max-width: 991px) {\n      opacity: 0.2;\n    }\n  }\n"]))),rt=function(){var e=Object(h.d)().account,t=Object(w.l)(),n=Object(s.useState)(null),r=Object(a.a)(n,2),o=r[0],l=r[1];Object(s.useEffect)((function(){t&&function(){var e=Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)(t);case 2:n=e.sent,r=qe(n),l(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var u=Object(He.a)(),d=Object(b.a)(),j=o&&Ye(o.finalNumber.toString()),p=j?null===j||void 0===j?void 0:j.split(""):["0","0","0","0","0","0"];return Object(Ie.jsx)(et,{children:Object(Ie.jsx)(Qe,{children:Object(Ie.jsxs)(nt,{children:[Object(Ie.jsx)(Xe,{children:Object(Ie.jsx)(tt,{style:{color:"rgb(243, 193, 17)"},children:e&&u?"".concat(d(570,"Latest Winning Numbers")):d(440,"Latest Winning Numbers")})}),Object(Ie.jsx)(_e,{children:p&&p.map((function(e,t){return Object(Ie.jsx)($e,{children:Object(Ie.jsx)(Ze,{children:Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:parseInt(e),decimals:0,fontSize:"60px",fontWeight:"600"})})},t)}))}),o&&Object(Ie.jsxs)(Ge,{children:[Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 6 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[5]})})]}),Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 5 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[4]})})]}),Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 4 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[3]})})]}),Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 3 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[2]})})]}),Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 2 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[1]})})]}),Object(Ie.jsxs)(Ve,{children:[Object(Ie.jsxs)(Je,{style:{color:"#fff"},children:["Tickets matching",Object(Ie.jsx)("strong",{style:{fontWeight:900},children:" 1 "}),"numbers:"]}),Object(Ie.jsx)(Je,{children:Object(Ie.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:o.countWinnersPerBracket[0]})})]})]})]})})})},ct=n(1319),it=n(1305),at=l.default.div(oe||(oe=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(4, auto);\n"])),(function(e){return e.pastDraw?3:2})),ot=Object(l.default)(y.wb)(se||(se=Object(o.a)(["\n  padding: 8px 0;\n"]))),st=Object(l.default)(y.I)(le||(le=Object(o.a)(["\n  \n"]))),lt=l.default.div(ue||(ue=Object(o.a)(["\n  margin-bottom: ",";\n  text-align: center;\n  &:nth-child(3), &:nth-child(4){\n    background: rgba(243, 193, 17, 0.15);\n  }\n  &:nth-child(5), &:nth-child(6){\n    background: rgba(255, 255, 255, 0.15);\n  }\n  &:nth-child(7), &:nth-child(8){\n    background: rgba(255, 255, 255, 0.05);\n  }\n"])),(function(e){return e.marginBottom?e.marginBottom:"10px"})),ut=Object(l.default)(lt)(de||(de=Object(o.a)(["\n  transform: translate(-40%, 0%);\n"]))),dt=l.default.div(be||(be=Object(o.a)(["\n  .text{\n    padding: 8px 0;\n  }\n"]))),bt=l.default.span(je||(je=Object(o.a)(["\n  font-size: 13px;\n  margin-right: 20px;\n  color: #F3C111;\n"]))),jt=function(e){var t=e.pastDraw,n=void 0!==t&&t,r=e.jackpotMatches,c=e.twoTicketMatches,i=e.threeTicketMatches,a=e.lotteryData,o=Object(b.a)(),s=Object(w.q)(),l=a.treasuryFee,u=a.amountCollectedInCake,d=a.rewardsBreakdown,j=(a.countWinnersPerBracket,new Me.BigNumber(l).div(100).div(100).times(new Me.BigNumber(u))),p=new Me.BigNumber(u).minus(j),x=function(e){var t=new Me.BigNumber(d[e]).div(100);return p.div(100).times(t)},f=function(e){return e.times(s)};return Object(Ie.jsx)(dt,{children:Object(Ie.jsxs)(at,{pastDraw:n,children:[Object(Ie.jsx)(lt,{children:Object(Ie.jsx)(y.wb,{fontSize:"24px",color:"#F3C111",children:o(756,"No. Matched")})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{padding:"0px",fontSize:"14px",color:"textSubtle",children:o(754,"Winners")})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsx)(ot,{style:{padding:0},fontSize:"24px",color:"#F3C111",children:o(752,"Prize Pot")})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsx)(y.I,{className:"text",style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},size:"md",children:"6"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(st,{className:"text",size:"md",children:r})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(st,{className:"text",size:"md",children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(5)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(5)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Ie.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"5"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{className:"text",bold:!0,children:i})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(4)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(4)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Ie.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"4"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{className:"text",bold:!0,children:i})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(3)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(3)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Ie.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"3"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{className:"text",bold:!0,children:i})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(2)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(2)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Ie.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"2"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{className:"text",bold:!0,children:i})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(1)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(1)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Ie.jsx)(y.wb,{className:"text",children:"1"})}),n&&Object(Ie.jsx)(ut,{children:Object(Ie.jsx)(ot,{className:"text",children:c})}),Object(Ie.jsx)(lt,{children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(x(0)))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(x(0)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Ie.jsx)(lt,{marginBottom:"0",children:Object(Ie.jsxs)(y.wb,{children:[o(999,"".concat(n?"Burned":"To burn")),":"]})}),n?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(lt,{marginBottom:"0"}),Object(Ie.jsx)(lt,{marginBottom:"0",children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(j))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(j),decimals:0,fontSize:"60px",fontWeight:"600"})]})})]}):Object(Ie.jsx)(lt,{marginBottom:"0",children:Object(Ie.jsxs)(ot,{children:[Object(Ie.jsx)(bt,{children:!n&&!s.eq(0)&&Object(Ie.jsx)(it.a,{value:Object(g.b)(f(j))})}),Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(j),decimals:0,fontSize:"60px",fontWeight:"600"})]})})]})})},pt=l.default.div(pe||(pe=Object(o.a)(["\n  background: linear-gradient(45deg, rgb(35 35 35) 30%, rgb(45 45 45) 100%);\n  box-shadow: 0px 0px 11px 0px rgb(16 16 16 / 57%);\n  color: #ffffff;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  margin-bottom: 20px;\n  display: grid;\n  grid-template-columns: 1fr;\n\n  @media (min-width: 991px) {\n    grid-template-columns: 1fr 1fr ;\n    margin: 0 auto 60px;\n  }\n"]))),xt=l.default.div(xe||(xe=Object(o.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n"]))),ft=l.default.div(fe||(fe=Object(o.a)(["\n  display: flex;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ot=l.default.div(Oe||(Oe=Object(o.a)(["\n  display: flex;\n"]))),ht=l.default.div(he||(he=Object(o.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),mt=l.default.div(me||(me=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),gt=l.default.div(ge||(ge=Object(o.a)(["\n  height: ",";\n  padding: 15px;\n\n  "," {\n    height: 100%;\n  }\n"])),(function(e){return e.showFooter?"100%":"0px"}),(function(e){return e.theme.mediaQueries.sm})),vt=(l.default.div(ve||(ve=Object(o.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  border: 0.0625rem solid rgba(255, 255, 255, 0.2);\n  border-radius: 1.25rem;\n  padding: 24px;\n"]))),l.default.div(we||(we=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px 0 5px;\n\n  h2 {\n    font-size: 44px;\n    position: relative;\n    color: #f3c111;\n    font-weight: 700;\n  }\n\n  span {\n    font-size: 16px;\n    position: absolute;\n    top: 0;\n  }\n"])))),wt=l.default.div(ye||(ye=Object(o.a)(["\n  padding-left: 60px;\n"]))),yt=l.default.div(ke||(ke=Object(o.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap');\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 900;\n  font-size: 36px;\n  line-height: 44px;\n    color: #252525;\n    text-shadow: 1px 1px 0 #F3C111,\n    -1px 1px 0 #F3C111,\n    1px -1px 0 #F3C111,\n    -1px -1px 0 #F3C111,\n    0px 1px 0 #F3C111,\n    0px -1px 0 #F3C111,\n    -1px 0px 0 #F3C111,\n    1px 0px 0 #F3C111,\n    2px 2px 0 #F3C111,\n    -2px 2px 0 #F3C111,\n    2px -2px 0 #F3C111,\n    -2px -2px 0 #F3C111,\n    0px 2px 0 #F3C111,\n    0px -2px 0 #F3C111,\n    -2px 0px 0 #F3C111,\n    2px 0px 0 #F3C111,\n    1px 2px 0 #F3C111,\n    -1px 2px 0 #F3C111,\n    1px -2px 0 #F3C111,\n    -1px -2px 0 #F3C111,\n    2px 1px 0 #F3C111,\n    -2px 1px 0 #F3C111,\n    2px -1px 0 #F3C111,\n    -2px -1px 0 #F3C111;\n"]))),kt=function(){var e=Object(s.useState)(0),t=Object(a.a)(e,2),n=(t[0],t[1]),r=Object(b.a)(),o=Object(h.d)().account,l=Object(w.o)(),j=l.currentLotteryId,O=(l.isTransitioning,l.currentRound),v=(O.endTime,O.amountCollectedInCake),k=(O.userTickets,O.status,Object(s.useState)(!1)),C=Object(a.a)(k,2),I=C[0],S=C[1],T=+Object(g.b)(Object(m.d)()).toFixed(0),F=Object(s.useContext)(u.a).currentLotteryNumber,D=Object(p.f)(Object(x.g)(),f),N=Object(w.q)(),z=v.times(N);return Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=5;break}return e.next=3,Object(d.a)(D);case 3:t=e.sent,n(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D]),Object(Ie.jsxs)(pt,{children:[Object(Ie.jsxs)(y.q,{children:[o&&Object(Ie.jsxs)(y.H,{mb:"55px",alignItems:"center",justifyContent:"space-between",children:[0===parseInt(j)&&Object(Ie.jsx)(y.ob,{height:20,width:56}),Object(Ie.jsx)(Ie.Fragment,{children:Object(Ie.jsx)(yt,{children:j&&r(720,"Round #".concat(j),{num:F})})})]}),Object(Ie.jsxs)(xt,{children:[Object(Ie.jsx)(Ot,{children:Object(Ie.jsxs)(mt,{children:[Object(Ie.jsx)(y.wb,{fontSize:"24px",fontWeight:"500",color:"textSubtle",children:r(722,"Total Pot:")}),z.s&&Object(Ie.jsxs)("div",{children:[Object(Ie.jsxs)(vt,{children:[Object(Ie.jsx)(ht,{children:Object(Ie.jsx)("img",{width:"75px",alt:"",src:"/images/icon-logo-y.png"})}),Object(Ie.jsxs)(y.I,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px",fontSize:"44"},size:"lg",children:[Object(Ie.jsx)(Ue.a,{bold:!0,color:"",value:Object(g.b)(v),decimals:3,fontSize:"60px",fontWeight:"600"})," ",Object(Ie.jsx)("span",{children:"LUCKY"})]})]}),Object(Ie.jsx)(wt,{children:z&&Object(Ie.jsx)(it.a,{value:Object(g.b)(z)})})]})]})}),Object(Ie.jsx)(ft,{children:Object(Ie.jsx)(ct.a,{onClick:function(){return S(!I)},expanded:I})})]})]}),Object(Ie.jsx)(gt,{showFooter:I,children:Object(Ie.jsx)(y.r,{className:"no-border",children:!O.isLoading&&Object(Ie.jsx)(jt,{lotteryPrizeAmount:T,lotteryData:O})})})]})},Ct=n(197),It=n(112),St=n(39),Tt=n(15),Ft=n(137),Dt=n(89),Nt=n(199),zt=n(168),Bt=Object(x.i)(),Et=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=e.roundId,n=e.id,r=e.rewardBracket;return{name:"viewRewardsForTicketId",address:Bt,params:[t,n,r]}})),e.next=3,Object(Dt.b)(Nt,n);case 3:return r=e.sent,i=r.reduce((function(e,t){return e.plus(new Ke.a(t[0].toString()))}),zt.b),a=t.map((function(e,t){return Object(Tt.a)(Object(Tt.a)({},e),{},{cakeReward:r[t]})})),e.abrupt("return",{ticketsWithUnclaimedRewards:a,cakeTotal:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(e,t){for(var n=e.split("").reverse(),r=t.split("").reverse(),c=[],i=0;i<r.length-1&&n[i]===r[i];i++)c.push(n[i]);return c.length-1},Lt=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a,o,s,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.roundId,r=t.userTickets,i=t.finalNumber,a=r.map((function(e){return{roundId:n,id:e.id,number:e.number,status:e.status,rewardBracket:Wt(e.number,i)}})),o=a.filter((function(e){return e.rewardBracket>=0})),!((s=o.filter((function(e){return!e.status}))).length>0)){e.next=11;break}return e.next=7,Et(s);case 7:return l=e.sent,u=l.ticketsWithUnclaimedRewards,d=l.cakeTotal,e.abrupt("return",{ticketsWithUnclaimedRewards:u,allWinningTickets:o,cakeTotal:d,roundId:n});case 11:if(!(o.length>0)){e.next=13;break}return e.abrupt("return",{ticketsWithUnclaimedRewards:null,allWinningTickets:o,cakeTotal:null,roundId:n});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(e,t){var n=t.find((function(t){return t.id===e}));return null===n||void 0===n?void 0:n.finalNumber},Rt=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,a,o,s,l,u,d,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.map((function(e){var t=parseInt(e.totalTickets,10),r=Object(Ae.f)(t,n,e.lotteryId);return{calls:r,lotteryId:e.lotteryId,count:r.length}})),a=(r=[]).concat.apply(r,Object(St.a)(i.map((function(e){return e.calls})))),e.prev=2,e.next=5,Object(Dt.b)(Nt,a,{requireSuccess:!1});case 5:for(o=e.sent,s=[],l=0,u=0;u<i.length;u+=1)d=i[u],s.push(o.slice(l,l+d.count)),l+=d.count;return b=s.map((function(e){return Object(Ae.g)(e)})),e.abrupt("return",b);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),At=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r){var i,a,o,s,l,u,d,b,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(i=n.rounds).length){e.next=3;break}return e.abrupt("return",[]);case 3:if(n.account.toLowerCase()===t.toLowerCase()){e.next=5;break}return e.abrupt("return",[]);case 5:if(a=i.filter((function(e){return e.status.toLowerCase()===Ft.a.CLAIMABLE})),!((o=a.filter((function(e){return!e.claimed||parseInt(e.totalTickets,10)>100}))).length>0)){e.next=21;break}return e.next=10,Rt(o,t);case 10:if(0!==(s=e.sent).length){e.next=13;break}return e.abrupt("return",[]);case 13:return l=o.map((function(e){return e.lotteryId})),u=s.map((function(e,t){return{roundId:l[t],userTickets:Object(Ae.h)(e),finalNumber:Pt(l[t],r)}})),e.next=17,Promise.all(u.map((function(e){return Lt(e)})));case 17:return d=e.sent,b=d.filter((function(e){return null!==e})),j=b.filter((function(e){return e.ticketsWithUnclaimedRewards})),e.abrupt("return",j);case 21:return e.abrupt("return",[]);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();!function(e){e.NOT_FETCHED="not-fetched",e.IN_PROGRESS="in-progress",e.SUCCESS="success"}(Ce||(Ce={}));var Ht=function(){var e=Object(h.d)().account,t=Object(w.n)(),n=Object(w.m)(),r=Object(s.useState)([]),o=Object(a.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(Ce.NOT_FETCHED),b=Object(a.a)(d,2),j=b[0],p=b[1];return Object(s.useEffect)((function(){p(Ce.NOT_FETCHED)}),[e]),{fetchAllRewards:function(){var r=Object(i.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return p(Ce.IN_PROGRESS),r.next=3,At(e,t,n);case 3:i=r.sent,u(i),p(Ce.SUCCESS);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),unclaimedRewards:l,fetchStatus:j}},Ut=n(122),Mt=n(620),Kt=n(395),Yt=n(128),qt=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r,i){var a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[n]){e.next=2;break}throw new Error("Method ".concat(n," doesn't exist on ").concat(t.address));case 2:return e.next=4,(a=t.estimateGas)[n].apply(a,Object(St.a)(r));case 4:return o=e.sent,s=o.mul(Yt.a.BigNumber.from(1e4).add(Yt.a.BigNumber.from(i))).div(Yt.a.BigNumber.from(1e4)),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,a,o,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:[],i=s.length>3&&void 0!==s[3]?s[3]:1e3,a=qt(t,n,r,i),e.next=5,t[n].apply(t,Object(St.a)(r).concat([{gasLimit:a}]));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_t=n(88),Vt=n(441),Gt=n.n(Vt),Zt=["value","color","decimals","isDisabled","unit","prefix","onClick"],Jt=function(e){var t=e.value,n=e.fontSize,r=e.color,c=e.decimals,i=e.isDisabled,a=e.unit,o=Object(s.useRef)(0);return Object(s.useEffect)((function(){o.current=t}),[t]),Object(Ie.jsxs)(y.wb,{bold:!0,color:i?"textDisabled":r,fontSize:n,children:[Object(Ie.jsx)(Gt.a,{start:o.current,end:t,decimals:c,duration:1,separator:","}),t&&a&&Object(Ie.jsx)("span",{children:a})]})};Jt.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var $t,Xt,en,tn,nn,rn,cn,an,on,sn,ln,un,dn,bn,jn,pn,xn,fn=function(e){var t=e.value,n=e.color,r=void 0===n?"text":n,c=e.decimals,i=void 0===c?3:c,a=e.isDisabled,o=void 0!==a&&a,l=e.unit,u=e.prefix,d=e.onClick,b=Object(_t.a)(e,Zt),j=Object(s.useRef)(0);return Object(s.useEffect)((function(){j.current=t}),[t]),Object(Ie.jsxs)(y.wb,Object(Tt.a)(Object(Tt.a)({color:o?"textDisabled":r,onClick:d},b),{},{children:[u&&Object(Ie.jsx)("span",{children:u}),Object(Ie.jsx)(Gt.a,{start:j.current,end:t,decimals:i,duration:1,separator:","}),l&&Object(Ie.jsx)("span",{children:l})]}))},On=function(e){var t,n=e.onSuccess,r=e.roundsToClaim,o=Object(b.a)(),l=Object(h.d)().account,u=Object(It.b)(),d=Object(w.o)().maxNumberTicketsPerBuyOrClaim,j=Object(s.useState)(0),x=Object(a.a)(j,2),f=x[0],O=x[1],m=Object(s.useState)(!1),v=Object(a.a)(m,2),k=v[0],C=v[1],I=Object(p.j)(),S=r[f],T=Object(w.q)(),F=S.cakeTotal,D=F.times(T),N=Object(g.a)(F).toNumber(),z=Object(g.a)(D).toNumber(),B=(t=S.ticketsWithUnclaimedRewards,{lotteryId:S.roundId,ticketIds:t.map((function(e){return e.id})),brackets:t.map((function(e){return e.rewardBracket}))}),E=d.lt(B.ticketIds.length),W=function(){return Math.ceil(r[f].ticketsWithUnclaimedRewards.length/d.toNumber())},L=function(){r.length>f+1?(O(f+1),u(Object(Ct.e)({account:l}))):n()},P=function(e,t){for(var n=[],r=d.toNumber(),c=0;c<e.length;c+=r){var i=e.slice(c,r+c),a=t.slice(c,r+c);n.push({ticketIds:i,brackets:a})}return n},R=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B.lotteryId,n=B.ticketIds,r=B.brackets,C(!0),e.prev=2,e.next=5,Qt(I,"claimTickets",[t,n,r]);case 5:return i=e.sent,e.next=8,i.wait();case 8:e.sent.status&&(console.log("Prizes Collected!"),C(!1),L()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),C(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i,a,o,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=B.lotteryId,n=P(B.ticketIds,B.brackets),r=n.length,i=[],C(!0),a=Object(Kt.a)(n),e.prev=6,a.s();case 8:if((o=a.n()).done){e.next=25;break}return s=o.value,e.prev=10,e.next=13,Qt(I,"claimTickets",[t,s.ticketIds,s.brackets]);case 13:return l=e.sent,e.next=16,l.wait();case 16:(u=e.sent).status&&(i.push(u),i.length!==r&&console.log()),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.error(e.t0);case 23:e.next=8;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(6),a.e(e.t1);case 30:return e.prev=30,a.f(),e.finish(30);case 33:C(!1),i.length===r&&(C(!1),console.log("Prizes Collected!"),L());case 35:case"end":return e.stop()}}),e,null,[[6,27,30,33],[10,20]])})));return function(){return e.apply(this,arguments)}}();return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(y.H,{flexDirection:"column",children:[Object(Ie.jsx)(y.wb,{mb:"4px",textAlign:["center",null,"left"],children:o(999,"You won")}),Object(Ie.jsx)(y.H,{alignItems:["flex-start",null,"center"],justifyContent:["flex-start",null,"space-between"],flexDirection:["column",null,"row"],children:Object(Ie.jsx)(fn,{value:N,fontSize:"44px",unit:" LUCKY!",color:"secondary"})}),Object(Ie.jsx)(fn,{value:z,fontSize:"12px",color:"textSubtle",unit:" USD",prefix:"~",decimals:10})]}),Object(Ie.jsx)(y.H,{alignItems:"center",justifyContent:"center",children:Object(Ie.jsxs)(y.wb,{mt:"8px",fontSize:"12px",color:"textSubtle",children:[o(999,"Round")," #",S.roundId]})}),Object(Ie.jsx)(y.H,{alignItems:"center",justifyContent:"center",children:Object(Ie.jsxs)(y.l,{isLoading:k,endIcon:k?Object(Ie.jsx)(y.f,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",variant:"secondary",onClick:function(){return E?A():R()},children:[o(999,k?"Claiming":"Claim")," ",W()>1?"(".concat(W(),")"):""]})})]})},hn=Object(l.default)(y.cb)($t||($t=Object(o.a)(["\n  position: relative;\n  overflow: visible;\n\n  "," {\n    min-width: 380px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),mn=Object(l.default)(y.db)(Xt||(Xt=Object(o.a)(["\n  background: ",";\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n"])),(function(e){return e.theme.colors.gradients.cardHeader})),gn=l.default.div(en||(en=Object(o.a)(["\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n"]))),vn=function(){Object(Mt.a)({resize:!0,particleCount:200,startVelocity:30,gravity:.5,spread:350,origin:{x:.5,y:.3}})},wn=function(e){var t=e.onDismiss,n=e.roundsToClaim,r=Object(b.a)(),c=Object(h.d)().account,i=Object(It.b)();return Object(s.useEffect)((function(){Object(Ut.delay)(vn,100)}),[]),Object(Ie.jsxs)(hn,{minWidth:"280px",children:[Object(Ie.jsx)(gn,{children:Object(Ie.jsx)("img",{src:"/images/decorations/prize-bunny.png",alt:"bunny decoration",height:"124px",width:"168px"})}),Object(Ie.jsxs)(mn,{children:[Object(Ie.jsx)(y.fb,{children:Object(Ie.jsx)(y.I,{children:r(999,"Collect Winnings")})}),Object(Ie.jsx)(y.bb,{onDismiss:t})]}),Object(Ie.jsx)(y.ab,{p:"24px",children:Object(Ie.jsx)(On,{onSuccess:function(){i(Object(Ct.e)({account:c})),t()},roundsToClaim:n})})]})},yn=l.default.img(tn||(tn=Object(o.a)(["\n  height: 60px;\n  "," {\n    height: 100px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),kn=l.default.img(nn||(nn=Object(o.a)(["\n  height: 54px;\n  "," {\n    height: 84px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Cn=Object(l.default)(y.p)(rn||(rn=Object(o.a)(["\n  margin: 0 !important;\n  max-width: 100% !important;\n  border-radius: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ","\n"])),(function(e){return e.isDisabled?"  \n        margin-top: 0;\n        background-color: unset;\n        box-shadow: unset;\n        border: 1px solid ".concat(e.theme.colors.textDisabled,";\n\n        ").concat(e.theme.mediaQueries.sm," {\n          margin-top: 0;\n        }\n\n        ").concat(e.theme.mediaQueries.lg," {\n          margin-top: 0;\n        }\n        "):""})),In=function(){var e=Object(h.d)().account,t=Object(b.a)(),n=Ht(),r=n.fetchAllRewards,c=n.unclaimedRewards,i=n.fetchStatus,o=Object(w.n)(),l=Object(s.useState)(!1),u=Object(a.a)(l,2),d=u[0],j=u[1],p=Object(s.useState)(!1),x=Object(a.a)(p,2),f=x[0],O=x[1],m=i===Ce.IN_PROGRESS,g=!o.account,v=Object(y.Ib)(Object(Ie.jsx)(wn,{roundsToClaim:c}),!1),k=Object(a.a)(v,1)[0],C=Object(It.b)();Object(s.useEffect)((function(){C(Object(Ct.e)({account:e}))}),[e,C]),Object(s.useEffect)((function(){i===Ce.SUCCESS&&(0===c.length||d||(O(!0),j(!0),k()),0!==c.length||d||(O(!1),j(!0)))}),[c,d,i,k]),Object(s.useEffect)((function(){O(!1),j(!1)}),[e]);return Object(Ie.jsx)(Cn,{children:function(){if(!e)return Object(Ie.jsxs)(y.H,{alignItems:"center",justifyContent:"center",children:[Object(Ie.jsx)(yn,{src:"/images/lottery/ticket-l.png",alt:"lottery ticket"}),Object(Ie.jsxs)(y.H,{mx:["4px",null,"16px"],flexDirection:"column",alignItems:"center",children:[Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",children:t(999,"Connect your wallet")}),Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:t(999,"to check if you've won!")})]}),Object(Ie.jsx)(yn,{src:"/images/lottery/ticket-r.png",alt:"lottery ticket"})]});if(d&&!f)return Object(Ie.jsxs)(y.H,{alignItems:"center",justifyContent:"center",children:[Object(Ie.jsx)(kn,{src:"/images/icon-lottery.svg",alt:"torn lottery ticket"}),Object(Ie.jsxs)(y.H,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Ie.jsxs)(y.I,{textAlign:"center",color:"#F4EEFF",children:[t(999,"No prizes to collect"),"..."]}),Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",children:t(999,"Better luck next time!")})]}),Object(Ie.jsx)(kn,{src:"/images/icon-lottery.svg",alt:"torn lottery ticket"})]});if(d&&f)return Object(Ie.jsxs)(y.H,{alignItems:"center",justifyContent:"center",children:[Object(Ie.jsx)(yn,{src:"/images/icon-lottery.svg",alt:"lottery ticket"}),Object(Ie.jsxs)(y.H,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",children:t(999,"Congratulations!")}),Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",children:t(999,"Why not play again")})]}),Object(Ie.jsx)(yn,{src:"/images/icon-lottery.svg",alt:"lottery ticket"})]});return Object(Ie.jsx)(y.H,{alignItems:"center",justifyContent:"center",children:Object(Ie.jsxs)(y.H,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Ie.jsx)(y.I,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:t(999,"Are you a winner?")}),Object(Ie.jsx)(y.l,{style:{backgroundColor:"#f4c708"},disabled:g,onClick:r,children:t(999,m?"Checking":"Check Now")})]})})}()})},Sn=n(1294),Tn=Object(l.default)(y.q)(cn||(cn=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Fn=Object(l.default)(y.I)(an||(an=Object(o.a)(["\n  margin: 16px 0;\n"]))),Dn=l.default.div(on||(on=Object(o.a)(["\n  svg {\n    width: 80px;\n    height: 80px;\n  }\n"]))),Nn=function(){var e=Object(b.a)();return Object(Ie.jsx)(y.p,{isActive:!0,children:Object(Ie.jsxs)(Tn,{children:[Object(Ie.jsx)(Dn,{children:Object(Ie.jsx)("img",{src:"https://merlinlab.com/assets/lottery/lottery.svg",alt:""})}),Object(Ie.jsx)(Fn,{size:"md",children:e(1080,"Unlock wallet to access lottery")}),Object(Ie.jsx)(Sn.a,{})]})})},zn=n(124),Bn=n.n(zn),En=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(h.d)().account,l=Object(It.b)(),u=Object(p.n)(),d=Object(w.l)();return Object(s.useEffect)((function(){u.on("TicketsPurchase",(function(){o&&d&&l(Object(Ct.f)({account:o,lotteryId:d}))}));var e=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,i,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.viewUserInfoForLotteryId(o,d,0,1e4);case 3:for(t=e.sent,n=[],i=0;i<t[0].length;i++)s={ticketId:null===(a=t[0][i])||void 0===a?void 0:a.toNumber(),ticketNumber:t[1][i],status:t[2][i]},n.push(s);r(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("error fetchTicket",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();o&&d&&u&&e()}),[o,d,l,u]),n},Wn=n(105),Ln=n(193),Pn=n(173),Rn=n(73),An=n(1456),Hn=n(1313),Un=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1999999,c=(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return parseInt(null===e||void 0===e?void 0:e.number)})):[],i=Object(St.a)(c),a=0;a<e;a++){for(var o=Object(Ut.random)(n,r);i.includes(o);)o=Object(Ut.random)(n,r);i.push(o)}var s=(null===t||void 0===t?void 0:t.length)>0?i.filter((function(e){return!c.includes(e)})):i;return s},Mn=function(e){var t=e.amount,n=e.userCurrentTickets,r=Un(t,n).map((function(e){return Ye(e.toString()).split("")}));return{tickets:Array.from({length:t},(function(e,t){return t+1})).map((function(e){return{id:e,numbers:r[e-1],duplicateWith:[],isComplete:!0}})),allComplete:!0}},Kn=function(e,t){switch(t.type){case"updateTicket":var n=Object(St.a)(e.tickets),r=t.payload,c=r.ticketId,i=r.newNumbers,a=e.tickets.filter((function(e){return e.id!==c&&e.isComplete&&e.numbers.join("")===i.join("")}));n[c-1].duplicateWith.forEach((function(e){if(!a.map((function(e){return e.id})).includes(e)){var t=Object(St.a)(n[e-1].duplicateWith),r=t.findIndex((function(e){return e===c}));t.splice(r,1),n[e-1]=Object(Tt.a)(Object(Tt.a)({},n[e-1]),{},{duplicateWith:t})}})),0!==a.length&&a.forEach((function(e){n[e.id-1]=Object(Tt.a)(Object(Tt.a)({},e),{},{duplicateWith:[].concat(Object(St.a)(e.duplicateWith),[c])})}));var o={id:c,numbers:i,duplicateWith:a.map((function(e){return e.id})),isComplete:6===i.join("").length};n[c-1]=o;var s=n.every((function(e){return e.isComplete}));return{tickets:n,allComplete:s};case"reset":return Mn({amount:t.payload.amount,userCurrentTickets:t.payload.userCurrentTickets});default:throw new Error}},Yn=n(438),qn=l.default.div(sn||(sn=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 36px;\n  box-sizing: border-box;\n  border: 1px solid #d7caec;\n  background-color: #eeeaf4;\n  border-radius: 16px;\n  margin-bottom: 8px;\n  ","\n  ","\n"])),(function(e){return e.isDuplicate&&"\n    border: 1px solid #FFB237;\n    box-shadow: 0px 0px 0px 2px #FFB237;\n  "}),(function(e){return e.focused&&"\n    border: 1px solid #7645D9;\n    box-shadow: 0px 0px 0px 2px #E4DAF7;\n  "})),Qn=l.default.input(ln||(ln=Object(o.a)(["\n  border: none;\n  height: 32px;\n  padding: 0 12px;\n  font-size: 16px;\n  flex: 1;\n  width: 16px;\n  text-align: center;\n  min-width: 0;\n  background-color: transparent;\n  caret-color: #7a6faa;\n\n  &::placeholder {\n    text-align: center;\n  }\n\n  &:placeholder-shown {\n    text-align: left;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    /* display: none; <- Crashes Chrome on hover */\n    -webkit-appearance: none;\n    margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n  }\n\n  -moz-appearance: textfield; /* Firefox */\n"]))),_n=function(e){var t,n=e.ticket,r=e.duplicateWith,c=e.updateTicket,i=e.disabled,o=Object(s.useState)(!1),l=Object(a.a)(o,2),u=l[0],d=l[1],j=Object(s.useRef)(null),p=Object(s.useRef)(null),x=Object(s.useRef)(null),f=Object(s.useRef)(null),O=Object(s.useRef)(null),h=Object(s.useRef)(null),m=Object(s.useRef)(null),g=Object(b.a)(),v=[p,x,f,O,h,m],w=function(){j.current&&j.current.scrollIntoView({block:"center",behavior:"smooth"})},k=function(e){e.preventDefault();var t=e.clipboardData.getData("Text");if(t.length<=6&&/^\d+$/.test(t)){var r=Array(6-t.length).fill("");c(n.id,[].concat(Object(St.a)(t.split("")),Object(St.a)(r)))}},C=function(){w(),d(!0)},I=function(){d(!1)},S=function(e,t){var r=parseInt(e.key,10);if(["e","E",".",",","-","Unidentified"].includes(e.key))e.preventDefault();else{if(r>=0&&r<=9){e.preventDefault();var i=Object(St.a)(n.numbers);i[t]="".concat(r),c(n.id,i);var a=t+1,o=v[a];6!==a&&o.current&&o.current.focus()}if("Backspace"===e.key)if(e.preventDefault(),n.numbers[t]){var s=Object(St.a)(n.numbers);s[t]="",c(n.id,s)}else{var l=t-1,u=v[l];if(-1!==l&&u.current){u.current.focus();var d=Object(St.a)(n.numbers);d[l]="",c(n.id,d)}}if("Delete"===e.key)if(e.preventDefault(),n.numbers[t]){var b=Object(St.a)(n.numbers);b[t]="",c(n.id,b)}else{var j=t+1,p=v[j];if(6!==j&&p.current){p.current.focus();var x=Object(St.a)(n.numbers);x[j]="",c(n.id,x)}}if("ArrowLeft"===e.key){e.preventDefault();var f=t-1,O=v[f];-1!==f&&O.current&&O.current.focus()}if("ArrowRight"===e.key){e.preventDefault();var h=t+1,m=v[h];6!==h&&m.current&&m.current.focus()}}};return Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(y.H,{justifyContent:"space-between",children:[Object(Ie.jsx)(y.wb,{fontSize:"12px",color:"textSubtle",children:(t=n.id,t<10?"#00".concat(t):t<100?"#0".concat(t):"#".concat(t))}),Object(Ie.jsx)(y.wb,{fontSize:"12px",color:"warning",children:0!==r.length&&g(999,"Duplicate")})]}),Object(Ie.jsxs)(qn,{ref:j,onClick:w,focused:u,isDuplicate:0!==r.length,children:[Object(Ie.jsx)(Qn,{ref:p,type:"number",value:n.numbers[0],onKeyDown:function(e){return S(e,0)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"}),Object(Ie.jsx)(Qn,{ref:x,type:"number",value:n.numbers[1],onKeyDown:function(e){return S(e,1)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"}),Object(Ie.jsx)(Qn,{ref:f,type:"number",value:n.numbers[2],onKeyDown:function(e){return S(e,2)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"}),Object(Ie.jsx)(Qn,{ref:O,type:"number",value:n.numbers[3],onKeyDown:function(e){return S(e,3)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"}),Object(Ie.jsx)(Qn,{ref:h,type:"number",value:n.numbers[4],onKeyDown:function(e){return S(e,4)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"}),Object(Ie.jsx)(Qn,{ref:m,type:"number",value:n.numbers[5],onKeyDown:function(e){return S(e,5)},placeholder:"_",onChange:function(e){return e.preventDefault()},disabled:i,onFocus:C,onBlur:I,onPaste:k,inputMode:"numeric"})]})]})},Vn=Object(l.default)(y.Z)(un||(un=Object(o.a)(["\n  min-width: 280px;\n  max-width: 320px;\n  max-height: 552px;\n\n  & div:nth-child(2) {\n    padding: 0;\n  }\n"]))),Gn=l.default.div(dn||(dn=Object(o.a)(["\n  height: 310px;\n  overflow-y: scroll;\n  border-bottom: ",";\n  padding: 24px;\n"])),(function(e){var t=e.theme;return"1px solid ".concat(t.colors.bgbtn)})),Zn=function(e){var t=e.totalCost,n=e.updateTicket,r=e.randomize,c=e.tickets,i=e.allComplete,a=e.onConfirm,o=e.isConfirming,s=e.onDismiss,l=Object(Yn.a)().theme,u=Object(b.a)();return Object(Ie.jsxs)(Vn,{title:u(999,"Edit numbers"),onDismiss:s,headerBackground:l.colors.gradients.cardHeader,onBack:s,children:[Object(Ie.jsxs)(Gn,{children:[Object(Ie.jsxs)(y.H,{justifyContent:"space-between",mb:"16px",children:[Object(Ie.jsxs)(y.wb,{color:"textSubtle",children:[u(999,"Total cost"),":"]}),Object(Ie.jsxs)(y.wb,{children:["~",t," CAKE"]})]}),Object(Ie.jsx)(y.wb,{fontSize:"12px",color:"textSubtle",mb:"16px",children:u(999,"Numbers are randomized, with no duplicates among your tickets. Tap a number to edit it. Available digits: 0-9")}),Object(Ie.jsx)(y.l,{disabled:o,mb:"16px",variant:"secondary",width:"100%",height:"32px",onClick:r,children:u(999,"Randomize")}),c.map((function(e){return Object(Ie.jsx)(_n,{ticket:e,duplicateWith:e.duplicateWith,updateTicket:n,disabled:o},e.id)}))]}),Object(Ie.jsxs)(y.H,{flexDirection:"column",justifyContent:"center",m:"24px",children:[Object(Ie.jsx)(y.l,{id:"lottery_confirm_edit_".concat(null===c||void 0===c?void 0:c.length),disabled:!i||o,endIcon:o?Object(Ie.jsx)(y.f,{spin:!0,color:"currentColor"}):void 0,onClick:function(){a()},variant:"secondary",children:u(999,o?"Confirming":"Confirm and buy")}),Object(Ie.jsxs)(y.l,{mt:"8px",variant:o?"secondary":"text",disabled:o,onClick:s,children:[Object(Ie.jsx)(y.b,{color:o?"disabled":"primary",height:"24px",width:"24px"})," ",u(999,"Go back")]})]})]})};!function(e){e.BUY="Buy",e.EDIT="Edit"}(xn||(xn={}));var Jn,$n,Xn,er,tr,nr,rr,cr,ir=function(e){var t=e.max,n=e.onDismiss,r=Object(s.useState)("1"),o=Object(a.a)(r,2),l=o[0],u=o[1],d=Object(s.useState)(""),j=Object(a.a)(d,2),x=j[0],f=j[1],O=Object(s.useState)(""),h=Object(a.a)(O,2),m=h[0],w=h[1],k=Object(s.useState)(""),C=Object(a.a)(k,2),I=C[0],S=C[1],T=Object(s.useState)(xn.BUY),F=Object(a.a)(T,2),D=F[0],N=F[1],z=Object(s.useState)(!1),B=Object(a.a)(z,2),E=B[0],W=B[1],L=Object(s.useState)(!1),P=Object(a.a)(L,2)[1],R=Object(b.a)(),A=Object(s.useMemo)((function(){return Object(g.c)(t,18)}),[t]),H=Object(s.useMemo)((function(){return parseInt(Object(g.c)(t.div(v.k)),10)}),[t]),U=En().length,M=Object(p.n)(),K=(Object(Rn.g)(),function(){var e=Object(s.useState)({currentLotteryId:"0",maxNumberTicketsPerBuyOrClaim:"0",lotteryData:{status:"",startTime:0,endTime:1,priceTicketInCake:new Ke.a(0),discountDivisor:new Ke.a(0),treasuryFee:new Ke.a(0),firstTicketId:new Ke.a(0),lastTicketId:new Ke.a(0),amountCollectedInCake:new Ke.a(0),finalNumber:new Ke.a(0),cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:new Ke.a(0)}}),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(p.n)();return Object(s.useEffect)((function(){!function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,i,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=12;break}return e.next=3,o.currentLotteryId();case 3:return t=e.sent,e.next=6,o.maxNumberTicketsPerBuyOrClaim();case 6:return n=e.sent,e.next=9,o.viewLottery(t);case 9:(i=e.sent).status,i.startTime,i.endTime,a=i.priceTicketInCake,s=i.discountDivisor,i.treasuryFee,i.firstTicketId,i.lastTicketId,i.amountCollectedInCake,i.finalNumber,i.cakePerBracket,i.countWinnersPerBracket,i.rewardsBreakdown,r({currentLotteryId:t.toNumber(),maxNumberTicketsPerBuyOrClaim:n.toNumber(),lotteryData:{status:"",startTime:0,endTime:1,priceTicketInCake:new Ke.a(Object(zt.e)(a)),discountDivisor:new Ke.a(Object(zt.e)(s)),treasuryFee:new Ke.a(0),firstTicketId:new Ke.a(0),lastTicketId:new Ke.a(0),amountCollectedInCake:new Ke.a(0),finalNumber:new Ke.a(0),cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:new Ke.a(0)}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o]),n}()),Y=K.currentLotteryId,q=K.maxNumberTicketsPerBuyOrClaim,Q=K.lotteryData,_=Q.priceTicketInCake,V=Q.discountDivisor,G=Object(s.useMemo)((function(){return[]}),[]),Z=function(e,t){var n=Object(s.useReducer)(Kn,{amount:e,userCurrentTickets:t},Mn),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(s.useEffect)((function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})}),[e,t]),[function(e,t){i({type:"updateTicket",payload:{ticketId:e,newNumbers:t}})},function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})},c.tickets,c.allComplete,function(){return c.tickets.map((function(e){var t=Object(St.a)(e.numbers).map((function(e){return parseInt(e,10)})).reverse();return t.unshift(1),parseInt(t.join(""),10)}))}]}(parseInt(l,10),G),J=Object(a.a)(Z,5),$=J[0],X=J[1],ee=J[2],te=J[3],ne=J[4],re=Object(s.useCallback)((function(e){return _.times(e).times(V.plus(1).minus(e)).div(V)}),[V,_]);Object(s.useEffect)((function(){var e=new Ke.a(l),t=re(e),n=_.times(e),r=n.minus(t);w(n.gt(0)?Object(g.c)(n):"0"),S(t.gt(0)?Object(g.c)(t):"0"),f(r.gt(0)?Object(g.c)(r,18):"0")}),[l,_,V,re]);var ce=Object(s.useCallback)(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),t=ne(),e.next=5,M.buyTickets(Y,t);case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[M,Y,ne]),ie=Object(s.useCallback)((function(){Number(H)>parseInt(q)?v.h-U>parseInt(q)?u(q):u((v.h-U).toString()):v.h-U>Number(H)?u(H.toString()):u(v.i.toString())}),[H,U,q]);return D===xn.EDIT?Object(Ie.jsx)(Zn,{totalCost:I,updateTicket:$,randomize:X,tickets:ee,allComplete:te,onConfirm:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,ce();case 3:W(!1),n();case 5:case"end":return e.stop()}}),e)}))),isConfirming:E,onDismiss:function(){return N(xn.BUY)}}):Object(Ie.jsxs)(y.Z,{title:R(450,"Enter amount of tickets to buy"),onDismiss:n,children:[Object(Ie.jsx)(An.a,{value:l,onSelectMax:ie,onChange:function(e){return u(e.currentTarget.value)},max:A,symbol:"TICKET",availableSymbol:"LUCKY"}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(ar,{children:R(999,"1 Ticket = ".concat(v.k," LUCKY"),{num:v.k})}),Object(Ie.jsx)(ar,{children:R(999,"Cost: ".concat(_&&Object(g.c)(_.times(l||0))," lucky"))}),Object(Ie.jsx)(ar,{children:R(999,"Discount: ".concat(x&&I?function(){var e=new Ke.a(x).div(new Ke.a(m)).times(100);return e.isNaN()||e.eq(0)?0:e.toNumber().toFixed(2)}():0," %"))}),Object(Ie.jsx)(ar,{children:R(999,"~ ".concat(x," Lucky"))})]}),Object(Ie.jsxs)("div",{children:[Object(Ie.jsx)(sr,{children:R(478,"Ticket purchases are final. Your LUCKY cannot be returned to you after buying tickets.")}),"s",Object(Ie.jsx)(or,{children:R(460,"You will spend: ".concat(I," LUCKY"))}),Object(Ie.jsx)(or,{children:R(999,"Your ticket: ".concat(U))})]}),Object(Ie.jsxs)(Hn.a,{children:[Object(Ie.jsx)(y.l,{width:"100%",variant:"secondary",onClick:n,children:R(462,"Cancel")}),Object(Ie.jsx)(y.l,{width:"100%",variant:"secondary",onClick:function(){return N(xn.EDIT)},children:R(462,"View/Edit")}),Object(Ie.jsx)(y.l,{id:"lottery-buy-complete",width:"100%",variant:"secondary",disabled:E||parseInt(l)>Number(H)||parseInt(l)>parseInt(q)||parseInt(l)<1,onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,ce();case 3:W(!1),n();case 5:case"end":return e.stop()}}),e)}))),children:E?R(488,"Pending Confirmation"):R(464,"Confirm")})]})]})},ar=l.default.div(bn||(bn=Object(o.a)(["\n  margin-left: 0.4em;\n  font-size: 14px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),or=l.default.div(jn||(jn=Object(o.a)(["\n  margin-top: 1em;\n  text-align: center;\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),sr=l.default.div(pn||(pn=Object(o.a)(["\n  margin-top: 1em;\n  margin-left: 0.4em;\n  color: #fff;\n"]))),lr=l.default.div(Jn||(Jn=Object(o.a)(["\n  text-align: left;\n  overflow-y: auto;\n  max-height: 400px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),ur=function(e){var t=e.onDismiss,n=Object(b.a)();return Object(Ie.jsxs)(y.Z,{title:n(466,"Warning"),onDismiss:t,children:[Object(Ie.jsxs)(lr,{children:[n(468,"Lottery ticket purchases are final."),Object(Ie.jsx)("br",{}),n(470,"Your CAKE will not be returned to you after you spend it to buy tickets."),Object(Ie.jsx)("br",{}),n(472,"Tickets are only valid for one lottery draw, and will be burned after the draw."),Object(Ie.jsx)("br",{}),n(474,"Buying tickets does not guarantee you will win anything. Please only participate once you understand the risks.")]}),Object(Ie.jsx)(Hn.a,{children:Object(Ie.jsx)(y.l,{width:"100%",onClick:t,children:n(476,"I understand")})})]})},dr=Object(l.default)(y.H)($n||($n=Object(o.a)(["\n  position: relative;\n  padding: 4px 16px;\n  border-radius: ",";\n  background: black;\n  justify-content: space-between;\n"])),(function(e){return e.theme.radii.default})),br=l.default.div(Xn||(Xn=Object(o.a)(["\n  z-index: 1;\n  width: ",";\n  height: 34px;\n  border-radius: ",";\n  top: 0;\n  left: 0;\n  position: absolute;\n  border: 2px "," solid;\n"])),(function(e){var t=e.numberMatches;return"".concat(t<6?17.66*t:100,"%")}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.primary})),jr=function(e){var t=e.localId,n=e.id,r=e.number,c=e.rewardBracket,i=Object(b.a)(),a=Ye(r).split(""),o=c+1;return Object(Ie.jsxs)(y.H,{flexDirection:"column",mb:"12px",children:[Object(Ie.jsxs)(y.H,{justifyContent:"space-between",children:[Object(Ie.jsxs)(y.wb,{fontSize:"12px",color:"textSubtle",children:["#",t||n]}),c>=0&&Object(Ie.jsxs)(y.wb,{fontSize:"12px",children:[i(999,"Matched first")," ",o]})]}),Object(Ie.jsxs)(dr,{children:[c>=0&&Object(Ie.jsx)(br,{numberMatches:o}),a.map((function(e){return Object(Ie.jsx)(y.wb,{fontSize:"16px",children:e})}))]})]})},pr=(l.default.div(er||(er=Object(o.a)(["\n  color: #ff8c28;\n"]))),l.default.div(tr||(tr=Object(o.a)(["\n  text-align: center;\n  overflow-y: auto;\n  max-height: 400px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary}))),xr=Object(l.default)(y.l)(nr||(nr=Object(o.a)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.spacing[2]})),fr=function(e){var t=e.myTicketNumbers,n=e.onDismiss,r=Object(b.a)(),c=t.map((function(e,t){return Object(Ie.jsx)("p",{style:{color:"yellow"},children:Object(Ie.jsx)(jr,{localId:t+1,id:e.id,number:e.number,rewardBracket:e.rewardBracket,status:e.status},e.id)},e.id)}));return Object(Ie.jsxs)(y.Z,{title:r(490,"My Tickets (Total: ".concat(t.length,")"),{TICKETS:t.length}),onDismiss:n,children:[Object(Ie.jsx)(pr,{children:Object(Ie.jsx)("h2",{children:c})}),Object(Ie.jsx)(xr,{variant:"secondary",onClick:n,children:r(438,"Close")})]})};function Or(e,t){return t.addedTime-e.addedTime}var hr,mr,gr,vr,wr,yr,kr,Cr,Ir,Sr,Tr,Fr,Dr,Nr,zr,Br,Er,Wr=Object(Ie.jsx)(y.f,{spin:!0,color:"currentColor"}),Lr=l.default.div(rr||(rr=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n\n  "," {\n    justify-content: space-between;\n  }\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.mediaQueries.lg})),Pr=l.default.div(cr||(cr=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 20px;\n  width: 100%;\n"]))),Rr=function(){var e=Object(b.a)(),t=Object(s.useState)(0),n=Object(a.a)(t,2),r=n[0],o=n[1],l=Object(s.useState)(0),u=Object(a.a)(l,2),d=u[0],j=u[1],f=Object(w.o)(),O=f.isTransitioning,m=f.currentRound,g=m.status,k=m.endTime,C=m.userTickets,S=g!==Ft.a.OPEN||O,T=(new Date).getTime()<1e3*parseInt(k),F=Object(h.d)(),D=F.account,N=F.chainId,z=Object(p.f)(v.p[N],Wn),B=Object(p.f)(v.p[N],Wn),E=Object(I.a)().fastRefresh,W=null!==C.tickets?C.tickets.length:0,L=Object(y.Ib)(Object(Ie.jsx)(fr,{myTicketNumbers:C.tickets,from:"buy"})),P=Object(a.a)(L,1)[0],R=Object(y.Ib)(Object(Ie.jsx)(ur,{})),A=(Object(a.a)(R,1)[0],Object(y.Ib)(Object(Ie.jsx)(ir,{max:new Ke.a(r),tokenName:"CAKE"}))),H=Object(a.a)(A,1)[0],U=Object(Pn.a)(v.p[N]).listenApproveEvent;Object(s.useEffect)((function(){var e=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D&&z)try{j(new Ke.a("10000000000000000000000000000000").toNumber())}catch(t){console.log(" error fetch approval data")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();U((function(){return e()}))}),[U,D,z]),Object(s.useEffect)((function(){B&&B.balanceOf(D).then((function(e){o(e.toString())})).catch((function(e){return console.log("lottery : ",e)}))}),[D]),Object(s.useEffect)((function(){B&&B.balanceOf(D).then((function(e){o(e.toString())})).catch((function(e){return console.log("lottery : ",e)}))}),[D,E]),Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D||!z){e.next=11;break}return e.prev=1,e.next=4,null===z||void 0===z||null===(t=z.allowance)||void 0===t?void 0:t.call(z,D,Object(x.i)());case 4:n=e.sent,j(n.toString()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(" error fetch approval data");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[D,z]);var M=Object(s.useState)(!1),K=Object(a.a)(M,2),Y=K[0],q=K[1],Q=Object(Ln.b)(v.p[N],Object(x.i)()),_=Object(a.a)(Q,1)[0];function V(){return G.apply(this,arguments)}function G(){return(G=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=Object(s.useCallback)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q(!0),e.next=4,V().then();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[_,q]),J=Object(Rn.b)(),$=Object(s.useMemo)((function(){return Object.values(J).filter(Rn.a).sort(Or)}),[J]),X=function(){return!!$.filter((function(e){return!e.receipt})).map((function(e){return e.hash})).length};return Object(Ie.jsx)(Lr,{children:S?Object(Ie.jsxs)(y.l,{className:"btn-center",disabled:!0,children:[" ",e(874,"On sale soon")]}):"0"===d.toString()?Object(Ie.jsxs)(Pr,{children:[Object(Ie.jsx)(y.l,{style:{marginRight:"8px"},width:"100%",disabled:0===W,variant:"secondary",onClick:P,children:e(432,"View your tickets")}),Object(Ie.jsxs)(y.l,{className:"border-yellow",width:"100%",disabled:Y||X(),onClick:Z,children:[X()?Wr:"",e(494,"Approve")]})]}):Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(y.l,{style:{marginRight:"8px"},width:"100%",disabled:0===W,variant:"secondary",onClick:P,children:[C.isLoading?Wr:"",e(432,"View your tickets")]}),Object(Ie.jsxs)(y.l,{variant:"secondary",id:"lottery-buy-start",width:"100%",disabled:!T||S,onClick:H,children:[X()?Wr:"",e(430,"Buy ticket")]})]})})},Ar=Object(l.default)(y.p)(hr||(hr=Object(o.a)(["\n  margin: 0 !important;\n  max-width: 100% !important;\n  border-radius: 14px;\n\n  ","\n"])),(function(e){return e.isSecondCard?"  \n        margin-top: 0;\n\n        ".concat(e.theme.mediaQueries.sm," {\n          margin-top: 0;\n        }\n\n        ").concat(e.theme.mediaQueries.lg," {\n          margin-top: 0;\n        }\n        "):""})),Hr=l.default.div(mr||(mr=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n"]))),Ur=l.default.div(gr||(gr=Object(o.a)(["\n  margin-bottom: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),Mr=l.default.div(vr||(vr=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n"]))),Kr=Object(Ie.jsx)(y.f,{spin:!0,color:"currentColor"}),Yr=function(e){var t=e.isSecondCard,n=void 0!==t&&t,r=Object(O.a)().chainId,o=Object(b.a)(),l=Object(He.a)(),u=Object(w.o)(),d=u.isTransitioning,j=u.currentRound,p=j.status,x=j.userTickets,f=p!==Ft.a.OPEN||d,h=(En().length,Object(C.a)()),m=(l&&F(h),Object(I.a)().fastRefresh),g=Object(s.useState)(""),k=Object(a.a)(g,2),S=(k[0],k[1]),T=Object(s.useState)(""),N=Object(a.a)(T,2),z=N[0],B=N[1],E=56===r?v.d:v.c;return Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=new Date,e.next=4,Bn.a.get("".concat(E,"/lotteries"));case 4:r=e.sent,i=r.data,t.setHours(i[0].timeDrawLottery.hh,i[0].timeDrawLottery.mm,0),S(D(t)),n.setHours(i[0].timeStartNewPhase.hh,i[0].timeStartNewPhase.mm,0),B(D(n));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,E]),Object(Ie.jsx)(Ar,{isSecondCard:n,children:Object(Ie.jsxs)(y.q,{children:[Object(Ie.jsxs)(Hr,{children:[Object(Ie.jsx)(Ur,{children:Object(Ie.jsx)("img",{alt:"",src:"../images/icon-lottery.svg"})}),f?Object(Ie.jsxs)(Mr,{children:[Object(Ie.jsx)(y.wb,{fontSize:"20px",color:"textSubtle",children:o(870,"Your ticket for this round")}),Object(Ie.jsx)(y.I,{size:"lg",style:{color:"#F3C111",fontSize:"30px"},children:z})]}):Object(Ie.jsxs)(Mr,{children:[Object(Ie.jsx)(y.wb,{fontSize:"14px",color:"textSubtle",children:o(724,"Your tickets for this round")}),Object(Ie.jsx)(y.I,{size:"lg",children:x.isLoading?Kr:null!==x.tickets?x.tickets.length:0})]})]}),Object(Ie.jsx)(Rr,{})]})})},qr=l.default.div(wr||(wr=Object(o.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1200px;\n  margin-bottom: 30px;\n  margin: 0 auto 40px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 14px;\n  padding: 20px;\n  background-color: #2b2a2a;\n  text-align: center;\n"]))),Qr=l.default.div(yr||(yr=Object(o.a)(["\n\n"]))),_r=l.default.h2(kr||(kr=Object(o.a)(["\n  font-size: 40px;\n  line-height: 50px;\n  margin-bottom: 13px;\n  color: #fff;\n  font-weight: 700;\n  text-transform: capitalize;\n"]))),Vr=l.default.p(Cr||(Cr=Object(o.a)(["\n  max-width: 650px;\n  font-size: 16px;\n  line-height: 26px;\n  color: #fff;\n  margin: 0 auto;\n"]))),Gr=l.default.h2(Ir||(Ir=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px;\n  margin-top: 30px;\n\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"]))),Zr=l.default.div(Sr||(Sr=Object(o.a)(['\n  text-align: left;\n  overflow: hidden;\n  position: relative;\n  margin-bottom: 30px;\n  background: #f4c706;\n  box-shadow: 0px 30px 20px 0px rgb(0 37 93 / 15%);\n  border-radius: 15px;\n  transition: all 0.3s ease-in;\n  cursor: pointer;\n\n  &:after {\n    position: absolute;\n    content: "";\n    background: linear-gradient(to right,#ffd009,#f97503);\n    width: 0%;\n    height: 0%;\n    top: 50%;\n    left: 50%;\n    bottom: 0px;\n    opacity: 0;\n    transform: translate(-50%, -50%);\n    transition: all 0.3s ease-in;\n    border-radius: 50%;\n  }\n\n  &:hover {\n    transform: translateY(0px) !important;\n\n    &:after {\n      width: 100%;\n      height: 100%;\n      opacity: 1;\n      border-radius: 0%;\n    }\n\n    .btn-step {\n      color: #1a1a1a;\n\n      &:before {\n        background-color: #fce307;\n      }\n    }\n  }\n']))),Jr=l.default.div(Tr||(Tr=Object(o.a)(["\n  width: 100%;\n  position: relative;\n  z-index: 99;\n  padding: 30px 22px;\n  transition: 0.3s ease-in;\n"]))),$r=l.default.h3(Fr||(Fr=Object(o.a)(["\n  color: #1a1a1a;\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 15px;\n"]))),Xr=l.default.p(Dr||(Dr=Object(o.a)(["\n  font-size: 16px;\n  color: #464646;\n"]))),ec=l.default.span(Nr||(Nr=Object(o.a)(["\n\tdisplay: flex;\n  justify-content: center;\n  margin-left: auto;\n  width: 80px;\n\tpadding: 10px 0;\n\tborder-radius: 10rem;\n\tcolor: #fff;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\ttransition: all .3s;\n\tposition: relative;\n\toverflow: hidden;\n\tz-index: 1;\n\n\t&:after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #c5892e;\n\t\tborder-radius: 10rem;\n\t\tz-index: -2;\n\t}\n\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttransition: all .3s;\n\t\tborder-radius: 10rem;\n\t\tz-index: -1;\n\t}\n"]))),tc=function(){return Object(Ie.jsxs)(qr,{children:[Object(Ie.jsxs)(Qr,{children:[Object(Ie.jsx)(_r,{children:"How to Play"}),Object(Ie.jsx)(Vr,{children:"If the digits on your tickets match the winning numbers in the correct order, you win a portion of the prize pool Simple!"})]}),Object(Ie.jsxs)(Gr,{children:[Object(Ie.jsx)(Zr,{children:Object(Ie.jsxs)(Jr,{children:[Object(Ie.jsx)(ec,{className:"btn-step",children:"STEP 1"}),Object(Ie.jsx)($r,{children:"Buy tickets"}),Object(Ie.jsx)(Xr,{children:"Prices are set when the round starts, equal to 1 LUCKY per ticket."})]})}),Object(Ie.jsx)(Zr,{children:Object(Ie.jsxs)(Jr,{children:[Object(Ie.jsx)(ec,{className:"btn-step",children:"STEP 2"}),Object(Ie.jsx)($r,{children:"Wait for the Draw"}),Object(Ie.jsx)(Xr,{children:"There are two draws every day: once every 24h."})]})}),Object(Ie.jsx)(Zr,{children:Object(Ie.jsxs)(Jr,{children:[Object(Ie.jsx)(ec,{className:"btn-step",children:"step 3"}),Object(Ie.jsx)($r,{children:"Check for Prizes"}),Object(Ie.jsx)(Xr,{children:"Once the round's over, come back to the page and check to see if you've won!"})]})})]})]})},nc=function(e){var t=e.error;return Object(Ie.jsx)(y.wb,{p:"24px",children:t.message})},rc=["valueToDisplay","children","Icon","Ic"],cc=l.default.div(zr||(zr=Object(o.a)(["\n  margin-right: 16px;\n\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),ic=l.default.div(Br||(Br=Object(o.a)(["\n  display: flex;\n  img{\n    width: 75px;\n    margin-right: 20px\n  }\n"]))),ac=l.default.div(Er||(Er=Object(o.a)(["\n  width: 70px;\n  height: 70px;\n  font-weight: 900;\n  margin-right: 10px;\n  border-radius: 10px;\n  color: #F3C111;\n  font-size: 34px;\n  background-image: url(../images/border.png);\n  position: relative;\n  span{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]))),oc=function(e){var t=e.valueToDisplay,n=e.children,r=e.Icon,c=e.Ic,i=Object(_t.a)(e,rc);return Object(Ie.jsxs)(y.H,Object(Tt.a)(Object(Tt.a)({},i),{},{children:[r&&Object(Ie.jsx)(cc,{children:Object(Ie.jsx)(r,{})}),Object(Ie.jsxs)(y.H,{className:"box-lucky",flexDirection:"column",children:[Object(Ie.jsx)(y.wb,{fontSize:"24px",mb:"20px",color:"textSubtle",children:n}),Object(Ie.jsxs)(ic,{children:[c&&Object(Ie.jsx)("img",{src:"../images/icon-lottery.svg",alt:""}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(Ie.jsx)(ac,{children:Object(Ie.jsx)("span",{children:e})})}))]})]})]}))};oc.defaultProps={valueToDisplay:[],children:""};var sc,lc,uc,dc,bc,jc,pc,xc,fc,Oc,hc,mc,gc,vc,wc,yc,kc,Cc,Ic,Sc,Tc,Fc,Dc,Nc,zc,Bc,Ec,Wc,Lc=oc,Pc=l.default.div(sc||(sc=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-top: 24px;\n  margin: 0 auto;\n  margin-bottom: 40px;\n  display: block;\n  width: max-content;\n  & > div {\n    flex: 1;\n    width: 100%;\n  }\n"]))),Rc=(Object(l.default)(y.P)(lc||(lc=Object(o.a)(["\n  align-items: center;\n  display: flex;\n  height: 48px;\n  justify-content: center;\n  text-decoration: none;\n  width: 100%;\n"]))),Object(l.default)(y.l)(uc||(uc=Object(o.a)(["\n  width: max-content;\n  color: #f3c111 !important;\n  padding: 0 70px;\n  border-radius: 100px;\n  border-color: #F3C111 !important;\n  margin: 0 auto;\n  display: block;\n  margin-right: auto !important;\n"]))),function(e){e.contractLink;var t=e.lotteryNumber,n=(Object(b.a)(),Object(m.a)(t)),r=(n.length,Object(y.Ib)(Object(Ie.jsx)(fr,{myTicketNumbers:n,from:"buy"}))),c=(Object(a.a)(r,1)[0],Object(h.d)()),i=c.account;c.chainId;return i?Object(Ie.jsx)(Pc,{children:Object(Ie.jsx)("div",{})}):Object(Ie.jsx)(Pc,{children:Object(Ie.jsx)(Sn.a,{})})}),Ac=function(e){if(!e)return{};var t=new Date(e),n=t.toDateString();return{hours:t.getUTCHours(),monthAndDay:n.split(" ").splice(1,2).join(" ")}},Hc=l.default.div(dc||(dc=Object(o.a)(["\n  padding-top: 20px;\n"]))),Uc=function(e){var t=e.timeValue,n=Ac(t),r=n.monthAndDay,c=n.hours;return Object(Ie.jsx)(Hc,{children:Object(Ie.jsxs)(y.wb,{fontSize:"14px",children:[r,", ",c,":00 UTC"]})})},Mc=l.default.div(bc||(bc=Object(o.a)(["\n  margin-bottom: 24px;\n"]))),Kc=l.default.div(jc||(jc=Object(o.a)(["\n  position: relative;\n  border-radius: 20px;\n  background: #FFFFFF;\n  ::placeholder {\n    color: #828282 !important;\n    opacity: 1;\n  }\n"]))),Yc=l.default.div(pc||(pc=Object(o.a)(["\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]))),qc=Object(l.default)(y.L)(xc||(xc=Object(o.a)(["\n  padding-right: 30px;\n  border: 1px solid;\n  // background: #FFFFFF;\n  color: #828282; \n  padding-left: 50px;\n  background: transparent;\n  ::placeholder {\n    color: #828282 !important;\n    opacity: 1;\n  }\n"]))),Qc=l.default.div(fc||(fc=Object(o.a)(["\n  position: absolute;\n  left: 0px;\n  top: 50%;\n  transform: translate(0%, -50%);\n  width: auto;\n  \n"]))),_c=Object(l.default)(y.l)(Oc||(Oc=Object(o.a)(["\n  border: unset;\n\n"]))),Vc=function(e){var t=e.initialLotteryNumber,n=e.onSubmit,r=Object(s.useState)(t),c=Object(a.a)(r,2),i=c[0],o=c[1],l=Object(s.useState)(!1),u=Object(a.a)(l,2),d=u[0],j=u[1];Object(b.a)();return Object(Ie.jsx)(Mc,{children:Object(Ie.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(i)},children:Object(Ie.jsxs)(Kc,{children:[Object(Ie.jsx)(Qc,{children:Object(Ie.jsx)(_c,{variant:"secondary",type:"submit",scale:"sm",disabled:d,children:Object(Ie.jsx)(y.nb,{style:{fill:"#828282",width:"25px"}})})}),Object(Ie.jsx)(Yc,{children:Object(Ie.jsx)(qc,{value:i,type:"number",isWarning:d,max:t,onChange:function(e){var n=parseInt(e.currentTarget.value,10);j(n>t),o(n)},placeholder:"Enter Round Number...",style:{paddingLeft:"50px"}})})]})})})},Gc=l.default.div(hc||(hc=Object(o.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Zc=Object(l.default)(Lc)(mc||(mc=Object(o.a)(["\n  margin-bottom: ","px;\n  \n"])),(function(e){return e.theme.spacing[4]})),Jc=l.default.div(gc||(gc=Object(o.a)(["\n  padding: 10px;\n"]))),$c=l.default.div(vc||(vc=Object(o.a)(["\n  \n  align-items: center;\n"]))),Xc=l.default.div(wc||(wc=Object(o.a)(["\n  display: grid;\n  @media (min-width: 991px) {\n    grid-template-columns: 1fr 1fr;\n  }\n"]))),ei=l.default.div(yc||(yc=Object(o.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap');\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 900;\n  font-size: 36px;\n  line-height: 44px;\n    color: #252525;\n    text-shadow: 1px 1px 0 #F3C111,\n    -1px 1px 0 #F3C111,\n    1px -1px 0 #F3C111,\n    -1px -1px 0 #F3C111,\n    0px 1px 0 #F3C111,\n    0px -1px 0 #F3C111,\n    -1px 0px 0 #F3C111,\n    1px 0px 0 #F3C111,\n    2px 2px 0 #F3C111,\n    -2px 2px 0 #F3C111,\n    2px -2px 0 #F3C111,\n    -2px -2px 0 #F3C111,\n    0px 2px 0 #F3C111,\n    0px -2px 0 #F3C111,\n    -2px 0px 0 #F3C111,\n    2px 0px 0 #F3C111,\n    1px 2px 0 #F3C111,\n    -1px 2px 0 #F3C111,\n    1px -2px 0 #F3C111,\n    -1px -2px 0 #F3C111,\n    2px 1px 0 #F3C111,\n    -2px 1px 0 #F3C111,\n    2px -1px 0 #F3C111,\n    -2px -1px 0 #F3C111;\n"]))),ti=l.default.div(kc||(kc=Object(o.a)(["\n  margin-bottom: 23px;\n  display: flex;\n  margin-top: 20px;\n  justify-content: space-around;\n  position: relative;\n"]))),ni=l.default.div(Cc||(Cc=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px 0 5px;\n\n  h2 {\n    font-size: 44px;\n    position: relative;\n    color: #f3c111;\n    font-weight: 700;\n  }\n\n  span {\n    font-size: 16px;\n    position: absolute;\n    top: 0;\n  }\n"]))),ri=l.default.div(Ic||(Ic=Object(o.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),ci=l.default.div(Sc||(Sc=Object(o.a)(["\n  padding-left: 60px;\n"]))),ii=function(e){var t=e.data,n=e.initialLotteryNumber,r=e.onSubmit,o=Object(b.a)(),l=+Object(g.b)(Object(m.d)()).toFixed(0),u=new Me.BigNumber(l).multipliedBy(Object(w.q)()).toNumber(),d=t.id,j=t.endTime,p=t.finalNumber,x=t.amountCollectedInCake,f=new Date(1e3*parseInt(j)),O=Ye(p).split(""),h=Object(s.useState)({priceTicketInCake:"",discountDivisor:"",amountCollectedInCake:"",cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:[],status:Ft.a.CLAIMABLE,startTime:"123123",endTime:"1212312312",treasuryFee:"0",firstTicketId:"0",lastTicketId:"0",finalNumber:1123123}),v=Object(a.a)(h,2),k=v[0],C=v[1],I=Object(Ae.i)(k);return Object(s.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.b)(d);case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),t&&Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsxs)(Xc,{children:[Object(Ie.jsx)(y.q,{children:Object(Ie.jsxs)(Gc,{children:[Object(Ie.jsx)(Vc,{initialLotteryNumber:n,onSubmit:r}),Object(Ie.jsx)(Zc,{valueToDisplay:[O[0],O[1],O[2],O[3],O[4],O[5]],Ic:!0,children:o(999,"Winning numbers")}),Object(Ie.jsxs)($c,{children:[Object(Ie.jsx)(y.wb,{fontSize:"24px",fontWeight:"500",color:"textSubtle",children:o(722,"Total Pot:")}),Object(Ie.jsxs)(ni,{children:[Object(Ie.jsx)(ri,{children:Object(Ie.jsx)("img",{width:"75px",alt:"",src:"/images/icon-logo-y.png"})}),Object(Ie.jsxs)(y.I,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px",fontSize:"44"},size:"lg",children:[Object(g.b)(new Me.BigNumber(x))," ",Object(Ie.jsx)("span",{children:"LUCKY"})]})]}),Object(Ie.jsx)(ci,{children:0!==u&&Object(Ie.jsx)(it.a,{value:u})})]})]})}),Object(Ie.jsxs)(Jc,{children:[Object(Ie.jsxs)(ti,{children:[Object(Ie.jsxs)(ei,{children:["Round #",d]}),Object(Ie.jsx)(Uc,{timeValue:f})]}),Object(Ie.jsx)(y.r,{className:"no-border",children:!1===I.isLoading&&Object(Ie.jsx)(jt,{lotteryData:I})})]})]}),Object(Ie.jsx)(Rc,{contractLink:"https://testnet.bscscan.com/address/0x3e743ABbc0B7d23Cd6b83af54b0DE87743c145E5#readContract",lotteryNumber:parseInt(d)})]})},ai=l.default.div(Tc||(Tc=Object(o.a)(["\n  width: 100%;\n  background: linear-gradient(45deg, rgb(35 35 35) 30%, rgb(45 45 45) 100%);\n  box-shadow: none;\n  display: block;\n  margin-bottom: 20px;\n  border-radius: 14px;\n\n  @media (min-width: 991px) {\n    margin-bottom: 30px;\n  }\n"]))),oi=function(e){var t=e.error,n=e.data,r=e.initialLotteryNumber,c=e.onSubmit;return Object(Ie.jsx)(ai,{children:t.message?Object(Ie.jsx)(nc,{error:t}):Object(Ie.jsx)(ii,{data:n,initialLotteryNumber:r,onSubmit:c})})},si=l.default.div(Fc||(Fc=Object(o.a)(["\n  border: 8px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 8px solid #ddd;\n  border-bottom: 8px solid #ddd;\n  width: 20px;\n  height: 20px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite;\n  @-webkit-keyframes spin {\n    0% {\n      -webkit-transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),li=function(){return Object(Ie.jsx)(si,{})},ui=l.default.div(Dc||(Dc=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),di=Object(l.default)(y.q)(Nc||(Nc=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 552px; // height of final card\n"]))),bi=function(){var e=Object(s.useState)({roundData:null,error:{message:null,type:null},isInitialized:!1,isLoading:!0}),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(b.a)(),l=n.roundData,u=n.error,d=n.isInitialized,j=n.isLoading,p=Object(w.l)(),x=Object(w.m)();Object(s.useEffect)((function(){x&&p&&r((function(e){return Object(Tt.a)(Object(Tt.a)({},e),{},{isLoading:!1,isInitialized:!0,roundData:x[parseInt(p)-2]})}))}),[x,p]);var f=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r((function(e){return Object(Tt.a)(Object(Tt.a)({},e),{},{isLoading:!0})})),t>parseInt(p)||t<=0?r((function(e){return Object(Tt.a)(Object(Tt.a)({},e),{},{error:{message:o(1076,"The lottery number you provided does not exist"),type:"out of range"},isLoading:!1,isInitialized:!0})})):r((function(e){return Object(Tt.a)(Object(Tt.a)({},e),{},{error:{message:null,type:null},roundData:x[t-1],isLoading:!1,isInitialized:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Ie.jsx)(ui,{children:parseInt(p)>=2&&l&&Object(Ie.jsx)("div",{children:!d||j?Object(Ie.jsx)(y.p,{children:Object(Ie.jsx)(di,{children:Object(Ie.jsx)(li,{})})}):Object(Ie.jsx)(oi,{initialLotteryNumber:parseInt(p)-1,onSubmit:f,error:u,data:l})})})},ji=(l.default.div(zc||(zc=Object(o.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 32px;\n"]))),l.default.div(Bc||(Bc=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 40px;\n  margin-bottom: 30px;\n\n  @media (min-width: 991px) {\n    grid-template-columns: ",";\n  }\n"])),(function(e){return e.account?"1fr 1fr":"unset"}))),pi=(l.default.div(Ec||(Ec=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1200px;\n  margin-bottom: 30px;\n"]))),l.default.div(Wc||(Wc=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img {\n    width: 100%;\n    max-width: 750px;\n  }\n"]))),function(){Object(w.g)();var e=Object(O.a)().chainId,t=Object(p.f)(Object(x.g)(),f),n=(Object(b.a)(),Object(s.useState)(0)),r=Object(a.a)(n,2),o=(r[0],r[1],Object(s.useState)([])),l=Object(a.a)(o,2),y=l[0],k=l[1],C=Object(s.useState)(!1),I=Object(a.a)(C,2),S=I[0],T=I[1],F=Object(s.useState)(0),D=Object(a.a)(F,2),N=D[0],z=D[1],B=Object(s.useState)(null),E=Object(a.a)(B,2),W=E[0],L=E[1],P=Object(h.d)().account,R=Object(m.c)().claimAmount,A=Object(g.b)(R)>0,H=56===e?v.d:v.c;Object(s.useEffect)((function(){fetch("".concat(H,"/lotteries/history")).then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return e.lotteryNumber>t.lotteryNumber?-1:1})),k(e)})).catch((function(){T(!0)}))}),[H]),Object(s.useEffect)((function(){t&&function(){var e=Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(t);case 2:n=e.sent,r=n-1,z(n),L(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);return Object(Ie.jsx)(Ie.Fragment,{children:Object(Ie.jsxs)(j.a,{children:[Object(Ie.jsx)(Re,{}),Object(Ie.jsx)(kt,{}),Object(Ie.jsx)(ji,{account:P,isAWin:A,children:P?Object(Ie.jsxs)(Ie.Fragment,{children:[Object(Ie.jsx)(Yr,{isSecondCard:A}),Object(Ie.jsx)(In,{})]}):Object(Ie.jsx)(Nn,{})}),Object(Ie.jsx)(rt,{}),Object(Ie.jsx)(tc,{}),Object(Ie.jsx)(u.a.Provider,{value:{historyError:S,historyData:y,mostRecentLotteryNumber:W,currentLotteryNumber:N},children:Object(Ie.jsx)(bi,{})})]})})})}}]);
//# sourceMappingURL=22.3e7b8354.chunk.js.map
(this["webpackJsonpluckyswap-exchange-v2"]=this["webpackJsonpluckyswap-exchange-v2"]||[]).push([[18],{1710:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return B}));var r,a,c,u,s=n(3),i=n.n(s),o=n(16),f=n(13),p=n(9),d=n(0),b=n(2),l=n(22),j=n.n(l),m=n(181),O=n(107),x=n(559),h=n(409),g=n(400),w=(n(73),n(44)),v=n(95),k=function(){var t=Object(o.a)(i.a.mark((function t(e,n){var r,a,c,u,s,o,f,p,d,b;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.c)();case 2:if(r=t.sent,a=Object(O.a)(r),c=new a.eth.Contract(x,Object(w.j)(r)),u=new m.b(e),s=[],!(n.length>100)){t.next=16;break}o=0,f=i.a.mark((function t(){var e,r,a,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.slice(100*o,100*(o+1)),r=e.map((function(t){return[t[0].toLowerCase(),u.encodeFunctionData(t[1],t[2])]})),t.next=4,c.methods.aggregate(r).call();case 4:a=t.sent,f=a.returnData,o++,s=s.concat(f.map((function(t,n){return u.decodeFunctionResult(e[n][1],t)})));case 8:case"end":return t.stop()}}),t)}));case 10:if(!(o<n.length/100)){t.next=14;break}return t.delegateYield(f(),"t0",12);case 12:t.next=10;break;case 14:t.next=22;break;case 16:return p=n.map((function(t){return[t[0].toLowerCase(),u.encodeFunctionData(t[1],t[2])]})),t.next=19,c.methods.aggregate(p).call();case 19:d=t.sent,b=d.returnData,s=b.map((function(t,e){return u.decodeFunctionResult(n[e][1],t)}));case 22:return t.abrupt("return",s);case 23:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.balanceOf(n).catch((function(t){return console.log("ticket amount : ",t)})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),S=function(){var t=Object(o.a)(i.a.mark((function t(e,n,r){var a,c,u,s,f,p,d,b,l,m,O,x,w,v;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.issueIndex();case 3:return a=t.sent,t.next=6,y(n,r);case 6:return c=t.sent,u=Array.apply(null,{length:c}).map((function(t,e){return[n.address,"tokenOfOwnerByIndex",[r,e]]})),t.next=10,k(h,u);case 10:return s=t.sent,f=s.map((function(t){return t.toString()})),p=f.map((function(t){return[n.address,"getLotteryIssueIndex",[t]]})),t.next=15,k(h,p);case 15:return d=t.sent,b=f.map((function(t){return[n.address,"getClaimStatus",[t]]})),t.next=19,k(h,b);case 19:return l=t.sent,t.next=22,F(e);case 22:return m=t.sent,O=[],d.forEach(function(){var t=Object(o.a)(i.a.mark((function t(e,n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(m||e.toString()!==a)&&(l[n][0]||O.push(f[n]));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),x=O.map((function(t){return[e.address,"getRewardView",[t]]})),t.next=28,k(g,x);case 28:return w=t.sent,v=w.reduce((function(t,e){return j.a.sum(t,e)}),new j.a(0)),t.abrupt("return",v);case 33:t.prev=33,t.t0=t.catch(0),console.error(t.t0);case 36:return t.abrupt("return",new j.a(0));case 37:case"end":return t.stop()}}),t,null,[[0,33]])})));return function(e,n,r){return t.apply(this,arguments)}}(),C=function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.issueIndex();case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(o.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.drawed());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=n(90),D=n(185),E=n(38),L=n(33),A=(n(130),n(245)),R=n(1),J=(b.default.div(r||(r=Object(p.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 32px;\n"]))),b.default.div(a||(a=Object(p.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 40px;\n  margin-bottom: 30px;\n\n  @media (min-width: 991px) {\n    grid-template-columns: 1fr 1fr;\n  }\n"]))),b.default.div(c||(c=Object(p.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1200px;\n  margin-bottom: 30px;\n"]))),b.default.div(u||(u=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img {\n    width: 100%;\n    max-width: 750px;\n  }\n"])))),B=function(){var t=Object(E.f)(Object(w.g)(),g),e=(Object(I.a)(),Object(d.useState)(0)),n=Object(f.a)(e,2),r=(n[0],n[1],Object(d.useState)([])),a=Object(f.a)(r,2),c=(a[0],a[1]),u=Object(d.useState)(!1),s=Object(f.a)(u,2),p=(s[0],s[1]),b=Object(d.useState)(0),l=Object(f.a)(b,2),m=(l[0],l[1]),O=Object(d.useState)(1),x=Object(f.a)(O,2),v=(x[0],x[1]),k=(Object(L.d)().account,function(){var t=Object(d.useState)(new j.a(0)),e=Object(f.a)(t,2),n=e[0],r=e[1],a=Object(d.useState)(!1),c=Object(f.a)(a,2),u=c[0],s=c[1],p=Object(L.d)().account,b=Object(E.f)(Object(w.g)(),g),l=Object(E.f)(Object(w.h)(),h),m=Object(d.useCallback)(Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,S(b,l,p);case 3:e=t.sent,r(e),s(!1);case 6:case"end":return t.stop()}}),t)}))),[p,b,l]);return Object(d.useEffect)((function(){p&&b&&l&&m()}),[p,m,b,l]),{claimLoading:u,claimAmount:n}}().claimAmount);Object(A.a)(k);Object(d.useEffect)((function(){fetch("https://api.pancakeswap.com/api/lotteryHistory").then((function(t){return t.json()})).then((function(t){return c(t)})).catch((function(){p(!0)}))}),[]),Object(d.useEffect)((function(){t&&function(){var e=Object(o.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,r=n-1,m(n),v(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(D.a,{children:Object(R.jsx)(J,{children:Object(R.jsx)("img",{src:"../images/coming-soon-lot.png",alt:""})})})})}}}]);
//# sourceMappingURL=18.0a875fa5.chunk.js.map
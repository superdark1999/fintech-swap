(this["webpackJsonpluckyswap-exchange-v2"]=this["webpackJsonpluckyswap-exchange-v2"]||[]).push([[18],{1614:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ri}));var r=n(2),c=n.n(r),i=n(18),a=n(15),s=n(12),o=n(0),l=n(3),u=n(1287),d=n(1271),b=n(93),j=n(193),x=n(38),p=n(39),f=n(396),O=n(26),h=n(30),m=n(1263),g=n(250),v=n(65),w=n(59),y=n(7),k=n(397),C=n(179),S=n.n(C),I=n(1272),T=n(1303),F=n(120),N=n(405),z=function(e,t){return"".concat(parseInt(e),"h, ").concat(parseInt(t),"m")},D=function(e){var t=function(e){return 36e5*(parseInt(e/36e5)+1)}(e)-e,n=Object(N.a)(t/1e3).minutes,r=Object(N.a)(t/1e3).hours;return z(r,n)},E=function(e){var t=new Date;t.getTime()>e.getTime()&&e.setDate(e.getDate()+1);var n=(e.getTime()-t.getTime())/1e3,r=B(Math.floor(n/60/60%60)),c=B(Math.floor(n/60%60));return"".concat(r,"h: ").concat(c,"m")};function B(e){return"0".concat(e.toString()).substr(-2)}var W,L,P,R,A,U,H,M,G,Y,q,Q,K,_,V,Z,J,X,$,ee,te,ne,re,ce,ie,ae,se,oe,le,ue,de,be,je,xe,pe,fe,Oe,he,me,ge,ve,we,ye,ke,Ce,Se,Ie,Te,Fe=n(1),Ne=l.default.div(W||(W=Object(s.a)(["\n  display: block;\n  width: 100%;\n"]))),ze=l.default.div(L||(L=Object(s.a)(["\n  margin-top: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),De=l.default.div(P||(P=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n"]))),Ee=Object(l.default)(y.wb)(R||(R=Object(s.a)(["\n  margin-right: 16px;\n"]))),Be=function(){var e=Object(O.a)().chainId,t=Object(F.a)().fastRefresh,n=Object(o.useState)(""),r=Object(a.a)(n,2),s=r[0],l=r[1],u=Object(o.useState)(""),d=Object(a.a)(u,2),j=d[0],x=d[1],p=Object(o.useState)(0),f=Object(a.a)(p,2),h=f[0],m=f[1],g=Object(b.a)(),w=Object(I.a)(),k=(Object(T.a)(),56===e?v.c:v.b);return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=new Date,e.next=4,S.a.get("".concat(k,"/lotteries"));case 4:r=e.sent,i=r.data,a=new Date,t.setHours(i[0].timeDrawLottery.hh,i[0].timeDrawLottery.mm,0),l(E(t)),n.setHours(i[0].timeStartNewPhase.hh,i[0].timeStartNewPhase.mm,0),x(E(n)),m(w?100-100*(n.getTime()-a.getTime())/864e5:100-100*(t.getTime()-a.getTime())/864e5);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,w,k]),Object(Fe.jsxs)(Ne,{children:[Object(Fe.jsx)(y.kb,{primaryStep:h,secondaryStep:1/24/100}),Object(Fe.jsxs)(ze,{children:[Object(Fe.jsx)(Ee,{fontSize:"20px",bold:!0,color:"yellow",children:w?j:s}),Object(Fe.jsx)(y.wb,{fontSize:"20px",bold:!0,color:"invertedContrast",children:w?g(434,"Until ticket sale"):g(492,"Until lottery draw")})]}),w&&Object(Fe.jsx)(De,{children:Object(Fe.jsx)(y.wb,{color:"invertedContrast"})})]})},We=Object(l.default)(y.H).attrs({as:"h1",size:"xl"})(A||(A=Object(s.a)(["\n  color: rgb(243, 193, 17);\n  margin-bottom: 5px;\n"]))),Le=Object(l.default)(y.wb)(U||(U=Object(s.a)(["\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n"]))),Pe=l.default.div(H||(H=Object(s.a)(["\n  // background: url('../images/large-pc.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  padding-bottom: 60px;\n  padding-top: 60px;\n  background-color: #0000001a;\n"]))),Re=Object(l.default)(k.a)(M||(M=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n\n  "," {\n    grid-template-columns: 1fr 400px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Ae=l.default.div(G||(G=Object(s.a)(["\n  flex: 1;\n  padding-right: 0;\n\n  "," {\n    padding-right: 24px;\n  }\n\n  "," {\n    padding-right: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),Ue=l.default.div(Y||(Y=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  flex: 1;\n  padding-left: 0;\n  margin-top: 16px;\n\n  "," {\n    margin-top: 0;\n    padding-left: 24px;\n  }\n\n  "," {\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.lg})),He=l.default.div(q||(q=Object(s.a)(["\n  margin-bottom: 20px;\n"]))),Me=function(){var e=Object(b.a)();return Object(Fe.jsx)(Pe,{children:Object(Fe.jsxs)(Re,{children:[Object(Fe.jsx)(Ae,{children:Object(Fe.jsx)("img",{src:"images/banner-jackpot.png",alt:""})}),Object(Fe.jsxs)(Ue,{children:[Object(Fe.jsxs)(He,{children:[Object(Fe.jsx)(We,{children:e(708,"The LUCKY Lottery")}),Object(Fe.jsx)(Le,{children:e(710,"Buy tickets with LUCKY for collect more NFTs")}),Object(Fe.jsx)(Le,{children:e(712,"Win if 2, 3, or 4 of your ticket numbers match!")})]}),Object(Fe.jsx)(Be,{})]})]})})},Ge=n(143),Ye=n(133),qe=n(21),Qe=n.n(qe),Ke=function(e){var t=e.split("");return t.splice(0,1),t.reverse(),t.join("")},_e=function(e){var t=e.priceTicketInCake,n=e.discountDivisor,r=e.amountCollectedInCake,c=new Qe.a(n),i=new Qe.a(t),a=new Qe.a(r);return{isLoading:e.isLoading,userTickets:e.userTickets,status:e.status,startTime:e.startTime,endTime:e.endTime,priceTicketInCake:i,discountDivisor:c,treasuryFee:e.treasuryFee,firstTicketId:e.firstTicketId,lastTicketId:e.lastTicketId,amountCollectedInCake:a,finalNumber:e.finalNumber,cakePerBracket:e.cakePerBracket,countWinnersPerBracket:e.countWinnersPerBracket,rewardsBreakdown:e.rewardsBreakdown}},Ve=l.default.div(Q||(Q=Object(s.a)(["\n  position: relative;\n  background-color: rgb(43 41 41);\n  border: 0.0625rem solid rgba(255, 255, 255, 0.2);\n  border-radius: 1.25rem;\n  padding: 24px;\n  min-height: 496px;\n"]))),Ze=(l.default.a(K||(K=Object(s.a)(["\n  margin-top: 1em;\n  text-decoration: none;\n  color: #101010;\n  background-color: transparent ;\n  border-radius: 12px;\n  padding: 17px 25px;\n  font-weight: 500;\n  white-space: nowrap;\n  border-radius: 100px;\n  border: 1px solid #F3C111;\n  color: #F3C111;\n  padding: 11px 60px;\n  font-size: 26px;\n  line-height: 30px;\n\n  @media (min-width) {\n    padding: 10px 25px;\n  }\n\n  &:hover {\n    background-color: #ffda3b;\n    color: #101010;\n    transition: 0.5s;\n  }\n"]))),l.default.div(_||(_=Object(s.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  border: 1px solid #f3c111;\n  border-radius: 14px;\n"])))),Je=(l.default.div(V||(V=Object(s.a)(["\n  margin-top: -2.3em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"]))),l.default.div(Z||(Z=Object(s.a)(["\n  margin-top: -2.3em;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n\n  @media (min-width: 768px) {\n    display: none;\n  }\n"]))),l.default.div(J||(J=Object(s.a)(["\n  text-align: center;\n"]))),l.default.div(X||(X=Object(s.a)(["\n  text-align: center;\n  margin-left: -1.2em;\n\n  @media (max-width: 600) {\n    margin-left: -0.2em;\n  }\n"]))),l.default.div($||($=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 10px;\n"])))),Xe=l.default.div(ee||(ee=Object(s.a)(["\n  margin-top: 1em;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"]))),$e=l.default.div(te||(te=Object(s.a)(["\n  text-align: center;\n  align-items: center;\n"]))),et=l.default.div(ne||(ne=Object(s.a)(["\n  text-align: center;\n  align-items: center;\n  padding-left: 2px;\n  padding-right: 2px;\n  font-weight: 500;\n  font-size: 26px;\n"]))),tt=l.default.div(re||(re=Object(s.a)(["\n  padding: 10px;\n  border-radius: 12px;\n  // text-shadow: rgb(255 214 0) 0px 0px 12px;\n  // background: linear-gradient(180deg, #54dade 0%, #24c7d6 76.22%);\n  color: white;\n  font-size: 20px;\n  font-weight: 900;\n  margin: 10px;\n  margin-bottom: 7px;\n  width: 40px;\n  color: #F3C111;\n\n  @media (min-width: 768px) {\n    font-size: 64px;\n    margin: 20px;\n    background: url('../images/bg-number.svg');\n    background-repeat: no-repeat;\n    width: 120px;\n    min-height: 150px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n  }\n"]))),nt=(l.default.div(ce||(ce=Object(s.a)(["\n  /* padding: 10px; */\n  border-radius: 12px;\n  margin: 16px 20px;\n  width: 60px;\n"]))),l.default.div(ie||(ie=Object(s.a)(["\n  padding-top: 10px;\n  padding-left: 10px;\n  border-radius: 12px;\n  margin: 20px;\n  width: 20px;\n"]))),l.default.div(ae||(ae=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n"])))),rt=l.default.div(se||(se=Object(s.a)(["\n  margin-bottom: 30px;\n"]))),ct=l.default.div(oe||(oe=Object(s.a)(["\n  color: ",";\n  font-size: 34px;\n  width: 50vw;\n  text-align: center;\n  font-weight: 1000;\n"])),(function(e){return e.theme.colors.secondary})),it=l.default.div(le||(le=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n\n  &:before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    content: '';\n    background: url('../images/jackpot-l.png');\n    width: 220px;\n    height: 496px;\n\n    @media (max-width: 991px) {\n      opacity: 0.2;\n    }\n  }\n\n  &:after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    content: '';\n    background: url('../images/jackpot-r.png');\n    width: 220px;\n    height: 496px;\n\n    @media (max-width: 991px) {\n      opacity: 0.2;\n    }\n  }\n"]))),at=function(){var e=Object(h.d)().account,t=Object(w.l)(),n=Object(o.useState)(null),r=Object(a.a)(n,2),s=r[0],l=r[1];Object(o.useEffect)((function(){t&&function(){var e=Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(t);case 2:n=e.sent,r=_e(n),l(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);var u=Object(I.a)(),d=Object(b.a)(),j=s&&Ke(s.finalNumber.toString()),x=j?null===j||void 0===j?void 0:j.split(""):["0","0","0","0","0","0"];return Object(Fe.jsx)(rt,{children:Object(Fe.jsx)(Ve,{children:Object(Fe.jsxs)(it,{children:[Object(Fe.jsx)(nt,{children:Object(Fe.jsx)(ct,{style:{color:"rgb(243, 193, 17)"},children:e&&u?"".concat(d(570,"Latest Winning Numbers")):d(440,"Latest Winning Numbers")})}),Object(Fe.jsx)(Ze,{children:x&&x.map((function(e,t){return Object(Fe.jsx)(tt,{children:Object(Fe.jsx)($e,{children:Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:parseInt(e),decimals:0,fontSize:"60px",fontWeight:"600"})})},t)}))}),s&&Object(Fe.jsxs)(Xe,{children:[Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 6 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[5]})})]}),Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 5 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[4]})})]}),Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 4 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[3]})})]}),Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 3 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[2]})})]}),Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 2 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[1]})})]}),Object(Fe.jsxs)(Je,{children:[Object(Fe.jsxs)(et,{style:{color:"#fff"},children:["Tickets matching",Object(Fe.jsx)("strong",{style:{fontWeight:900},children:" 1 "}),"numbers:"]}),Object(Fe.jsx)(et,{children:Object(Fe.jsx)("strong",{style:{color:"#F3C111",fontWeight:900},children:s.countWinnersPerBracket[0]})})]})]})]})})})},st=n(1291),ot=n(1278),lt=l.default.div(ue||(ue=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(4, auto);\n"])),(function(e){return e.pastDraw?3:2})),ut=Object(l.default)(y.wb)(de||(de=Object(s.a)(["\n  padding: 8px 0;\n"]))),dt=Object(l.default)(y.H)(be||(be=Object(s.a)(["\n  \n"]))),bt=l.default.div(je||(je=Object(s.a)(["\n  margin-bottom: ",";\n  text-align: center;\n  &:nth-child(3), &:nth-child(4){\n    background: rgba(243, 193, 17, 0.15);\n  }\n  &:nth-child(5), &:nth-child(6){\n    background: rgba(255, 255, 255, 0.15);\n  }\n  &:nth-child(7), &:nth-child(8){\n    background: rgba(255, 255, 255, 0.05);\n  }\n"])),(function(e){return e.marginBottom?e.marginBottom:"10px"})),jt=Object(l.default)(bt)(xe||(xe=Object(s.a)(["\n  transform: translate(-40%, 0%);\n"]))),xt=l.default.div(pe||(pe=Object(s.a)(["\n  .text{\n    padding: 8px 0;\n  }\n"]))),pt=l.default.span(fe||(fe=Object(s.a)(["\n  font-size: 13px;\n  margin-right: 20px;\n  color: #F3C111;\n"]))),ft=function(e){var t=e.pastDraw,n=void 0!==t&&t,r=e.jackpotMatches,c=e.twoTicketMatches,i=e.threeTicketMatches,a=e.lotteryData,s=Object(b.a)(),o=Object(w.q)(),l=a.treasuryFee,u=a.amountCollectedInCake,d=a.rewardsBreakdown,j=(a.countWinnersPerBracket,new qe.BigNumber(l).div(100).div(100).times(new qe.BigNumber(u))),x=new qe.BigNumber(u).minus(j),p=function(e){var t=new qe.BigNumber(d[e]).div(100);return x.div(100).times(t)},f=function(e){return e.times(o)};return Object(Fe.jsx)(xt,{children:Object(Fe.jsxs)(lt,{pastDraw:n,children:[Object(Fe.jsx)(bt,{children:Object(Fe.jsx)(y.wb,{fontSize:"24px",color:"#F3C111",children:s(756,"No. Matched")})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{padding:"0px",fontSize:"14px",color:"textSubtle",children:s(754,"Winners")})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsx)(ut,{style:{padding:0},fontSize:"24px",color:"#F3C111",children:s(752,"Prize Pot")})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsx)(y.H,{className:"text",style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},size:"md",children:"6"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(dt,{className:"text",size:"md",children:r})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(dt,{className:"text",size:"md",children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(5)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(5)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Fe.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"5"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{className:"text",bold:!0,children:i})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(4)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(4)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Fe.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"4"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{className:"text",bold:!0,children:i})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(3)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(3)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Fe.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"3"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{className:"text",bold:!0,children:i})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(2)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(2)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Fe.jsx)(y.wb,{className:"text",padding:"8px 0",bold:!0,children:"2"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{className:"text",bold:!0,children:i})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(1)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(1)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px"},children:Object(Fe.jsx)(y.wb,{className:"text",children:"1"})}),n&&Object(Fe.jsx)(jt,{children:Object(Fe.jsx)(ut,{className:"text",children:c})}),Object(Fe.jsx)(bt,{children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(p(0)))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(p(0)),decimals:0,fontSize:"60px",fontWeight:"600"})]})}),Object(Fe.jsx)(bt,{marginBottom:"0",children:Object(Fe.jsxs)(y.wb,{children:[s(999,"".concat(n?"Burned":"To burn")),":"]})}),n?Object(Fe.jsxs)(Fe.Fragment,{children:[Object(Fe.jsx)(bt,{marginBottom:"0"}),Object(Fe.jsx)(bt,{marginBottom:"0",children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(j))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(j),decimals:0,fontSize:"60px",fontWeight:"600"})]})})]}):Object(Fe.jsx)(bt,{marginBottom:"0",children:Object(Fe.jsxs)(ut,{children:[Object(Fe.jsx)(pt,{children:!n&&!o.eq(0)&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(f(j))})}),Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(j),decimals:0,fontSize:"60px",fontWeight:"600"})]})})]})})},Ot=l.default.div(Oe||(Oe=Object(s.a)(["\n  background: linear-gradient(45deg, rgb(35 35 35) 30%, rgb(45 45 45) 100%);\n  box-shadow: 0px 0px 11px 0px rgb(16 16 16 / 57%);\n  color: #ffffff;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  margin-bottom: 20px;\n  display: grid;\n  grid-template-columns: 1fr;\n\n  @media (min-width: 991px) {\n    grid-template-columns: 1fr 1fr ;\n    margin: 0 auto 60px;\n  }\n"]))),ht=l.default.div(he||(he=Object(s.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n"]))),mt=l.default.div(me||(me=Object(s.a)(["\n  display: flex;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),gt=l.default.div(ge||(ge=Object(s.a)(["\n  display: flex;\n"]))),vt=l.default.div(ve||(ve=Object(s.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),wt=l.default.div(we||(we=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),yt=l.default.div(ye||(ye=Object(s.a)(["\n  height: ",";\n  padding: 15px;\n\n  "," {\n    height: 100%;\n  }\n"])),(function(e){return e.showFooter?"100%":"0px"}),(function(e){return e.theme.mediaQueries.sm})),kt=(l.default.div(ke||(ke=Object(s.a)(["\n  background-color: rgba(255, 255, 255, 0.1);\n  border: 0.0625rem solid rgba(255, 255, 255, 0.2);\n  border-radius: 1.25rem;\n  padding: 24px;\n"]))),l.default.div(Ce||(Ce=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px 0 5px;\n\n  h2 {\n    font-size: 44px;\n    position: relative;\n    color: #f3c111;\n    font-weight: 700;\n  }\n\n  span {\n    font-size: 16px;\n    position: absolute;\n    top: 0;\n  }\n"])))),Ct=l.default.div(Se||(Se=Object(s.a)(["\n  padding-left: 60px;\n"]))),St=l.default.div(Ie||(Ie=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap');\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 900;\n  font-size: 36px;\n  line-height: 44px;\n    color: #252525;\n    text-shadow: 1px 1px 0 #F3C111,\n    -1px 1px 0 #F3C111,\n    1px -1px 0 #F3C111,\n    -1px -1px 0 #F3C111,\n    0px 1px 0 #F3C111,\n    0px -1px 0 #F3C111,\n    -1px 0px 0 #F3C111,\n    1px 0px 0 #F3C111,\n    2px 2px 0 #F3C111,\n    -2px 2px 0 #F3C111,\n    2px -2px 0 #F3C111,\n    -2px -2px 0 #F3C111,\n    0px 2px 0 #F3C111,\n    0px -2px 0 #F3C111,\n    -2px 0px 0 #F3C111,\n    2px 0px 0 #F3C111,\n    1px 2px 0 #F3C111,\n    -1px 2px 0 #F3C111,\n    1px -2px 0 #F3C111,\n    -1px -2px 0 #F3C111,\n    2px 1px 0 #F3C111,\n    -2px 1px 0 #F3C111,\n    2px -1px 0 #F3C111,\n    -2px -1px 0 #F3C111;\n"]))),It=function(){var e=Object(o.useState)(0),t=Object(a.a)(e,2),n=(t[0],t[1]),r=Object(b.a)(),s=Object(h.d)().account,l=Object(w.o)(),j=l.currentLotteryId,O=(l.isTransitioning,l.currentRound),v=(O.endTime,O.amountCollectedInCake),k=(O.userTickets,O.status,Object(o.useState)(!1)),C=Object(a.a)(k,2),S=C[0],I=C[1],T=+Object(g.b)(Object(m.d)()).toFixed(0),F=Object(o.useContext)(u.a).currentLotteryNumber,N=Object(x.f)(Object(p.g)(),f),z=Object(w.q)(),D=v.times(z);return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=5;break}return e.next=3,Object(d.a)(N);case 3:t=e.sent,n(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N]),Object(Fe.jsxs)(Ot,{children:[Object(Fe.jsxs)(y.p,{children:[s&&Object(Fe.jsxs)(y.G,{mb:"55px",alignItems:"center",justifyContent:"space-between",children:[0===parseInt(j)&&Object(Fe.jsx)(y.ob,{height:20,width:56}),Object(Fe.jsx)(Fe.Fragment,{children:Object(Fe.jsx)(St,{children:j&&r(720,"Round #".concat(j),{num:F})})})]}),Object(Fe.jsxs)(ht,{children:[Object(Fe.jsx)(gt,{children:Object(Fe.jsxs)(wt,{children:[Object(Fe.jsx)(y.wb,{fontSize:"24px",fontWeight:"500",color:"textSubtle",children:r(722,"Total Pot:")}),D.s&&Object(Fe.jsxs)("div",{children:[Object(Fe.jsxs)(kt,{children:[Object(Fe.jsx)(vt,{children:Object(Fe.jsx)("img",{width:"75px",alt:"",src:"/images/icon-logo-y.png"})}),Object(Fe.jsxs)(y.H,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px",fontSize:"44"},size:"lg",children:[Object(Fe.jsx)(Ye.a,{bold:!0,color:"",value:Object(g.b)(v),decimals:3,fontSize:"60px",fontWeight:"600"})," ",Object(Fe.jsx)("span",{children:"LUCKY"})]})]}),Object(Fe.jsx)(Ct,{children:D&&Object(Fe.jsx)(ot.a,{value:Object(g.b)(D)})})]})]})}),Object(Fe.jsx)(mt,{children:Object(Fe.jsx)(st.a,{onClick:function(){return I(!S)},expanded:S})})]})]}),Object(Fe.jsx)(yt,{showFooter:S,children:Object(Fe.jsx)(y.q,{className:"no-border",children:!O.isLoading&&Object(Fe.jsx)(ft,{lotteryPrizeAmount:T,lotteryData:O})})})]})},Tt=n(187),Ft=n(108),Nt=n(36),zt=n(14),Dt=n(130),Et=n(86),Bt=n(188),Wt=n(145),Lt=Object(p.i)(),Pt=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t=e.roundId,n=e.id,r=e.rewardBracket;return{name:"viewRewardsForTicketId",address:Lt,params:[t,n,r]}})),e.next=3,Object(Et.b)(Bt,n);case 3:return r=e.sent,i=r.reduce((function(e,t){return e.plus(new Qe.a(t[0].toString()))}),Wt.b),a=t.map((function(e,t){return Object(zt.a)(Object(zt.a)({},e),{},{cakeReward:r[t]})})),e.abrupt("return",{ticketsWithUnclaimedRewards:a,cakeTotal:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rt=function(e,t){for(var n=e.split("").reverse(),r=t.split("").reverse(),c=[],i=0;i<r.length-1&&n[i]===r[i];i++)c.push(n[i]);return c.length-1},At=function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a,s,o,l,u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.roundId,r=t.userTickets,i=t.finalNumber,a=r.map((function(e){return{roundId:n,id:e.id,number:e.number,status:e.status,rewardBracket:Rt(e.number,i)}})),s=a.filter((function(e){return e.rewardBracket>=0})),!((o=s.filter((function(e){return!e.status}))).length>0)){e.next=11;break}return e.next=7,Pt(o);case 7:return l=e.sent,u=l.ticketsWithUnclaimedRewards,d=l.cakeTotal,e.abrupt("return",{ticketsWithUnclaimedRewards:u,allWinningTickets:s,cakeTotal:d,roundId:n});case 11:if(!(s.length>0)){e.next=13;break}return e.abrupt("return",{ticketsWithUnclaimedRewards:null,allWinningTickets:s,cakeTotal:null,roundId:n});case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(e,t){var n=t.find((function(t){return t.id===e}));return null===n||void 0===n?void 0:n.finalNumber},Ht=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,a,s,o,l,u,d,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.map((function(e){var t=parseInt(e.totalTickets,10),r=Object(Ge.f)(t,n,e.lotteryId);return{calls:r,lotteryId:e.lotteryId,count:r.length}})),a=(r=[]).concat.apply(r,Object(Nt.a)(i.map((function(e){return e.calls})))),e.prev=2,e.next=5,Object(Et.b)(Bt,a,{requireSuccess:!1});case 5:for(s=e.sent,o=[],l=0,u=0;u<i.length;u+=1)d=i[u],o.push(s.slice(l,l+d.count)),l+=d.count;return b=o.map((function(e){return Object(Ge.g)(e)})),e.abrupt("return",b);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r){var i,a,s,o,l,u,d,b,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(i=n.rounds).length){e.next=3;break}return e.abrupt("return",[]);case 3:if(n.account.toLowerCase()===t.toLowerCase()){e.next=5;break}return e.abrupt("return",[]);case 5:if(a=i.filter((function(e){return e.status.toLowerCase()===Dt.a.CLAIMABLE})),!((s=a.filter((function(e){return!e.claimed||parseInt(e.totalTickets,10)>100}))).length>0)){e.next=21;break}return e.next=10,Ht(s,t);case 10:if(0!==(o=e.sent).length){e.next=13;break}return e.abrupt("return",[]);case 13:return l=s.map((function(e){return e.lotteryId})),u=o.map((function(e,t){return{roundId:l[t],userTickets:Object(Ge.h)(e),finalNumber:Ut(l[t],r)}})),e.next=17,Promise.all(u.map((function(e){return At(e)})));case 17:return d=e.sent,b=d.filter((function(e){return null!==e})),j=b.filter((function(e){return e.ticketsWithUnclaimedRewards})),e.abrupt("return",j);case 21:return e.abrupt("return",[]);case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();!function(e){e.NOT_FETCHED="not-fetched",e.IN_PROGRESS="in-progress",e.SUCCESS="success"}(Te||(Te={}));var Gt=function(){var e=Object(h.d)().account,t=Object(w.n)(),n=Object(w.m)(),r=Object(o.useState)([]),s=Object(a.a)(r,2),l=s[0],u=s[1],d=Object(o.useState)(Te.NOT_FETCHED),b=Object(a.a)(d,2),j=b[0],x=b[1];return Object(o.useEffect)((function(){x(Te.NOT_FETCHED)}),[e]),{fetchAllRewards:function(){var r=Object(i.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return x(Te.IN_PROGRESS),r.next=3,Mt(e,t,n);case 3:i=r.sent,u(i),x(Te.SUCCESS);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),unclaimedRewards:l,fetchStatus:j}},Yt=n(116),qt=n(597),Qt=n(377),Kt=n(139),_t=function(){var e=Object(i.a)(c.a.mark((function e(t,n,r,i){var a,s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t[n]){e.next=2;break}throw new Error("Method ".concat(n," doesn't exist on ").concat(t.address));case 2:return e.next=4,(a=t.estimateGas)[n].apply(a,Object(Nt.a)(r));case 4:return s=e.sent,o=s.mul(Kt.a.BigNumber.from(1e4).add(Kt.a.BigNumber.from(i))).div(Kt.a.BigNumber.from(1e4)),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r,i,a,s,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:[],i=o.length>3&&void 0!==o[3]?o[3]:1e3,a=_t(t,n,r,i),e.next=5,t[n].apply(t,Object(Nt.a)(r).concat([{gasLimit:a}]));case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=n(84),Jt=n(420),Xt=n.n(Jt),$t=["value","color","decimals","isDisabled","unit","prefix","onClick"],en=function(e){var t=e.value,n=e.fontSize,r=e.color,c=e.decimals,i=e.isDisabled,a=e.unit,s=Object(o.useRef)(0);return Object(o.useEffect)((function(){s.current=t}),[t]),Object(Fe.jsxs)(y.wb,{bold:!0,color:i?"textDisabled":r,fontSize:n,children:[Object(Fe.jsx)(Xt.a,{start:s.current,end:t,decimals:c,duration:1,separator:","}),t&&a&&Object(Fe.jsx)("span",{children:a})]})};en.defaultProps={fontSize:"32px",isDisabled:!1,color:"text",decimals:3};var tn,nn,rn,cn,an,sn,on,ln,un,dn,bn,jn,xn,pn,fn,On,hn,mn,gn,vn,wn=function(e){var t=e.value,n=e.color,r=void 0===n?"text":n,c=e.decimals,i=void 0===c?3:c,a=e.isDisabled,s=void 0!==a&&a,l=e.unit,u=e.prefix,d=e.onClick,b=Object(Zt.a)(e,$t),j=Object(o.useRef)(0);return Object(o.useEffect)((function(){j.current=t}),[t]),Object(Fe.jsxs)(y.wb,Object(zt.a)(Object(zt.a)({color:s?"textDisabled":r,onClick:d},b),{},{children:[u&&Object(Fe.jsx)("span",{children:u}),Object(Fe.jsx)(Xt.a,{start:j.current,end:t,decimals:i,duration:1,separator:","}),l&&Object(Fe.jsx)("span",{children:l})]}))},yn=function(e){var t,n=e.onSuccess,r=e.roundsToClaim,s=Object(b.a)(),l=Object(h.d)().account,u=Object(Ft.b)(),d=Object(w.o)().maxNumberTicketsPerBuyOrClaim,j=Object(o.useState)(0),p=Object(a.a)(j,2),f=p[0],O=p[1],m=Object(o.useState)(!1),v=Object(a.a)(m,2),k=v[0],C=v[1],S=Object(x.j)(),I=r[f],T=Object(w.q)(),F=I.cakeTotal,N=F.times(T),z=Object(g.a)(F).toNumber(),D=Object(g.a)(N).toNumber(),E=(t=I.ticketsWithUnclaimedRewards,{lotteryId:I.roundId,ticketIds:t.map((function(e){return e.id})),brackets:t.map((function(e){return e.rewardBracket}))}),B=d.lt(E.ticketIds.length),W=function(){return Math.ceil(r[f].ticketsWithUnclaimedRewards.length/d.toNumber())},L=function(){r.length>f+1?(O(f+1),u(Object(Tt.e)({account:l}))):n()},P=function(e,t){for(var n=[],r=d.toNumber(),c=0;c<e.length;c+=r){var i=e.slice(c,r+c),a=t.slice(c,r+c);n.push({ticketIds:i,brackets:a})}return n},R=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.lotteryId,n=E.ticketIds,r=E.brackets,console.log("maxNumberTicketsPerBuyOrClaim",d),console.log("claimData",E),C(!0),e.prev=4,e.next=7,Vt(S,"claimTickets",[t,n,r]);case 7:return i=e.sent,e.next=10,i.wait();case 10:e.sent.status&&(console.log("Prizes Collected!"),C(!1),L()),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),C(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i,a,s,o,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E.lotteryId,n=P(E.ticketIds,E.brackets),r=n.length,i=[],C(!0),a=Object(Qt.a)(n),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=25;break}return o=s.value,e.prev=10,e.next=13,Vt(S,"claimTickets",[t,o.ticketIds,o.brackets]);case 13:return l=e.sent,e.next=16,l.wait();case 16:(u=e.sent).status&&(i.push(u),i.length!==r&&console.log()),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.error(e.t0);case 23:e.next=8;break;case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(6),a.e(e.t1);case 30:return e.prev=30,a.f(),e.finish(30);case 33:i.length===r&&(C(!1),console.log("Prizes Collected!"),L());case 34:case"end":return e.stop()}}),e,null,[[6,27,30,33],[10,20]])})));return function(){return e.apply(this,arguments)}}();return Object(Fe.jsxs)(Fe.Fragment,{children:[Object(Fe.jsxs)(y.G,{flexDirection:"column",children:[Object(Fe.jsx)(y.wb,{mb:"4px",textAlign:["center",null,"left"],children:s(999,"You won")}),Object(Fe.jsx)(y.G,{alignItems:["flex-start",null,"center"],justifyContent:["flex-start",null,"space-between"],flexDirection:["column",null,"row"],children:Object(Fe.jsx)(wn,{value:z,fontSize:"44px",unit:" LUCKY!",color:"secondary"})}),Object(Fe.jsx)(wn,{value:D,fontSize:"12px",color:"textSubtle",unit:" USD",prefix:"~",decimals:10})]}),Object(Fe.jsx)(y.G,{alignItems:"center",justifyContent:"center",children:Object(Fe.jsxs)(y.wb,{mt:"8px",fontSize:"12px",color:"textSubtle",children:[s(999,"Round")," #",I.roundId]})}),Object(Fe.jsx)(y.G,{alignItems:"center",justifyContent:"center",children:Object(Fe.jsxs)(y.k,{isLoading:k,endIcon:k?Object(Fe.jsx)(y.e,{spin:!0,color:"currentColor"}):null,mt:"20px",width:"100%",onClick:function(){return B?A():R()},children:[s(999,k?"Claiming":"Claim")," ",W()>1?"(".concat(W(),")"):""]})})]})},kn=Object(l.default)(y.cb)(tn||(tn=Object(s.a)(["\n  position: relative;\n  overflow: visible;\n\n  "," {\n    min-width: 380px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Cn=Object(l.default)(y.db)(nn||(nn=Object(s.a)(["\n  background: ",";\n  border-top-right-radius: 32px;\n  border-top-left-radius: 32px;\n"])),(function(e){return e.theme.colors.gradients.cardHeader})),Sn=l.default.div(rn||(rn=Object(s.a)(["\n  position: absolute;\n  top: -116px; // line up bunny at the top of the modal\n  left: 0px;\n  text-align: center;\n  width: 100%;\n"]))),In=function(){Object(qt.a)({resize:!0,particleCount:200,startVelocity:30,gravity:.5,spread:350,origin:{x:.5,y:.3}})},Tn=function(e){var t=e.onDismiss,n=e.roundsToClaim,r=Object(b.a)(),c=Object(h.d)().account,i=Object(Ft.b)();return Object(o.useEffect)((function(){Object(Yt.delay)(In,100)}),[]),Object(Fe.jsxs)(kn,{minWidth:"280px",children:[Object(Fe.jsx)(Sn,{children:Object(Fe.jsx)("img",{src:"/images/decorations/prize-bunny.png",alt:"bunny decoration",height:"124px",width:"168px"})}),Object(Fe.jsxs)(Cn,{children:[Object(Fe.jsx)(y.fb,{children:Object(Fe.jsx)(y.H,{children:r(999,"Collect Winnings")})}),Object(Fe.jsx)(y.bb,{onDismiss:t})]}),Object(Fe.jsx)(y.ab,{p:"24px",children:Object(Fe.jsx)(yn,{onSuccess:function(){i(Object(Tt.e)({account:c})),t()},roundsToClaim:n})})]})},Fn=l.default.img(cn||(cn=Object(s.a)(["\n  height: 60px;\n  "," {\n    height: 100px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Nn=l.default.img(an||(an=Object(s.a)(["\n  height: 54px;\n  "," {\n    height: 84px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),zn=Object(l.default)(y.o)(sn||(sn=Object(s.a)(["\n  margin: 0 !important;\n  max-width: 100% !important;\n  border-radius: 14px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ","\n"])),(function(e){return e.isDisabled?"  \n        margin-top: 0;\n        background-color: unset;\n        box-shadow: unset;\n        border: 1px solid ".concat(e.theme.colors.textDisabled,";\n\n        ").concat(e.theme.mediaQueries.sm," {\n          margin-top: 0;\n        }\n\n        ").concat(e.theme.mediaQueries.lg," {\n          margin-top: 0;\n        }\n        "):""})),Dn=function(){var e=Object(h.d)().account,t=Object(b.a)(),n=Gt(),r=n.fetchAllRewards,c=n.unclaimedRewards,i=n.fetchStatus,s=Object(w.n)(),l=Object(o.useState)(!1),u=Object(a.a)(l,2),d=u[0],j=u[1],x=Object(o.useState)(!1),p=Object(a.a)(x,2),f=p[0],O=p[1],m=i===Te.IN_PROGRESS,g=!s.account,v=Object(y.Ib)(Object(Fe.jsx)(Tn,{roundsToClaim:c}),!1),k=Object(a.a)(v,1)[0],C=Object(Ft.b)();Object(o.useEffect)((function(){C(Object(Tt.e)({account:e}))}),[e,C]),Object(o.useEffect)((function(){i===Te.SUCCESS&&(0===c.length||d||(O(!0),j(!0),k()),0!==c.length||d||(O(!1),j(!0)))}),[c,d,i,k]),Object(o.useEffect)((function(){O(!1),j(!1)}),[e]);return Object(Fe.jsx)(zn,{children:function(){if(!e)return Object(Fe.jsxs)(y.G,{alignItems:"center",justifyContent:"center",children:[Object(Fe.jsx)(Fn,{src:"/images/lottery/ticket-l.png",alt:"lottery ticket"}),Object(Fe.jsxs)(y.G,{mx:["4px",null,"16px"],flexDirection:"column",alignItems:"center",children:[Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",children:t(999,"Connect your wallet")}),Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:t(999,"to check if you've won!")})]}),Object(Fe.jsx)(Fn,{src:"/images/lottery/ticket-r.png",alt:"lottery ticket"})]});if(d&&!f)return Object(Fe.jsxs)(y.G,{alignItems:"center",justifyContent:"center",children:[Object(Fe.jsx)(Nn,{src:"/images/icon-lottery.svg",alt:"torn lottery ticket"}),Object(Fe.jsxs)(y.G,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Fe.jsxs)(y.H,{textAlign:"center",color:"#F4EEFF",children:[t(999,"No prizes to collect"),"..."]}),Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",children:t(999,"Better luck next time!")})]}),Object(Fe.jsx)(Nn,{src:"/images/icon-lottery.svg",alt:"torn lottery ticket"})]});if(d&&f)return Object(Fe.jsxs)(y.G,{alignItems:"center",justifyContent:"center",children:[Object(Fe.jsx)(Fn,{src:"/images/icon-lottery.svg",alt:"lottery ticket"}),Object(Fe.jsxs)(y.G,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",children:t(999,"Congratulations!")}),Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",children:t(999,"Why not play again")})]}),Object(Fe.jsx)(Fn,{src:"/images/icon-lottery.svg",alt:"lottery ticket"})]});return Object(Fe.jsx)(y.G,{alignItems:"center",justifyContent:"center",children:Object(Fe.jsxs)(y.G,{mx:["4px",null,"16px"],flexDirection:"column",children:[Object(Fe.jsx)(y.H,{textAlign:"center",color:"#F4EEFF",mb:"24px",children:t(999,"Are you a winner?")}),Object(Fe.jsx)(y.k,{style:{backgroundColor:"#f4c708"},disabled:g,onClick:r,children:t(999,m?"Checking":"Check Now")})]})})}()})},En=n(1268),Bn=Object(l.default)(y.p)(on||(on=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),Wn=Object(l.default)(y.H)(ln||(ln=Object(s.a)(["\n  margin: 16px 0;\n"]))),Ln=l.default.div(un||(un=Object(s.a)(["\n  svg {\n    width: 80px;\n    height: 80px;\n  }\n"]))),Pn=function(){var e=Object(b.a)();return Object(Fe.jsx)(y.o,{isActive:!0,children:Object(Fe.jsxs)(Bn,{children:[Object(Fe.jsx)(Ln,{children:Object(Fe.jsx)("img",{src:"https://merlinlab.com/assets/lottery/lottery.svg",alt:""})}),Object(Fe.jsx)(Wn,{size:"md",children:e(1080,"Unlock wallet to access lottery")}),Object(Fe.jsx)(En.a,{})]})})},Rn=function(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(h.d)().account,l=Object(x.n)();return Object(o.useEffect)((function(){var e=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.currentLotteryId();case 2:return t=e.sent,e.next=5,l.viewUserInfoForLotteryId(s,t,0,1e4);case 5:for(n=e.sent,i=[],a=0;a<n[0].length;a++)u={ticketId:null===(o=n[0][a])||void 0===o?void 0:o.toNumber(),ticketNumber:n[1][a],status:n[2][a]},i.push(u);r(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s&&l&&e()}),[s,l]),n},An=n(56),Un=n(101),Hn=n(206),Mn=n(398),Gn=n(81),Yn=n(1398),qn=n(1284),Qn=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1999999,c=(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){return parseInt(null===e||void 0===e?void 0:e.number)})):[],i=Object(Nt.a)(c),a=0;a<e;a++){for(var s=Object(Yt.random)(n,r);i.includes(s);)s=Object(Yt.random)(n,r);i.push(s)}var o=(null===t||void 0===t?void 0:t.length)>0?i.filter((function(e){return!c.includes(e)})):i;return o},Kn=function(e){var t=e.amount,n=e.userCurrentTickets,r=Qn(t,n).map((function(e){return Ke(e.toString()).split("")}));return{tickets:Array.from({length:t},(function(e,t){return t+1})).map((function(e){return{id:e,numbers:r[e-1],duplicateWith:[],isComplete:!0}})),allComplete:!0}},_n=function(e,t){switch(t.type){case"updateTicket":var n=Object(Nt.a)(e.tickets),r=t.payload,c=r.ticketId,i=r.newNumbers,a=e.tickets.filter((function(e){return e.id!==c&&e.isComplete&&e.numbers.join("")===i.join("")}));n[c-1].duplicateWith.forEach((function(e){if(!a.map((function(e){return e.id})).includes(e)){var t=Object(Nt.a)(n[e-1].duplicateWith),r=t.findIndex((function(e){return e===c}));t.splice(r,1),n[e-1]=Object(zt.a)(Object(zt.a)({},n[e-1]),{},{duplicateWith:t})}})),0!==a.length&&a.forEach((function(e){n[e.id-1]=Object(zt.a)(Object(zt.a)({},e),{},{duplicateWith:[].concat(Object(Nt.a)(e.duplicateWith),[c])})}));var s={id:c,numbers:i,duplicateWith:a.map((function(e){return e.id})),isComplete:6===i.join("").length};n[c-1]=s;var o=n.every((function(e){return e.isComplete}));return{tickets:n,allComplete:o};case"reset":return Kn({amount:t.payload.amount,userCurrentTickets:t.payload.userCurrentTickets});default:throw new Error}},Vn=function(e){var t=e.max,n=e.onDismiss,r=Object(o.useState)("1"),s=Object(a.a)(r,2),l=s[0],u=s[1],d=Object(o.useState)(""),j=Object(a.a)(d,2),p=j[0],f=j[1],O=Object(o.useState)(""),h=Object(a.a)(O,2),m=h[0],w=h[1],k=Object(o.useState)(""),C=Object(a.a)(k,2),S=C[0],I=C[1],T=Object(o.useState)(!1),F=Object(a.a)(T,2),N=F[0],z=F[1],D=Object(o.useState)(!1),E=Object(a.a)(D,2)[1],B=Object(b.a)(),W=Object(o.useMemo)((function(){return Object(g.c)(t,18)}),[t]),L=Object(o.useMemo)((function(){return parseInt(Object(g.c)(t.div(v.j)),10)}),[t]),P=Rn().length,R=Object(x.n)(),A=(Object(Gn.d)(),function(){var e=Object(o.useState)({currentLotteryId:"0",maxNumberTicketsPerBuyOrClaim:"0",lotteryData:{status:"",startTime:0,endTime:1,priceTicketInCake:new Qe.a(0),discountDivisor:new Qe.a(0),treasuryFee:new Qe.a(0),firstTicketId:new Qe.a(0),lastTicketId:new Qe.a(0),amountCollectedInCake:new Qe.a(0),finalNumber:new Qe.a(0),cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:new Qe.a(0)}}),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(x.n)();return Object(o.useEffect)((function(){!function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=12;break}return e.next=3,s.currentLotteryId();case 3:return t=e.sent,e.next=6,s.maxNumberTicketsPerBuyOrClaim();case 6:return n=e.sent,e.next=9,s.viewLottery(t);case 9:(i=e.sent).status,i.startTime,i.endTime,a=i.priceTicketInCake,o=i.discountDivisor,i.treasuryFee,i.firstTicketId,i.lastTicketId,i.amountCollectedInCake,i.finalNumber,i.cakePerBracket,i.countWinnersPerBracket,i.rewardsBreakdown,r({currentLotteryId:t.toNumber(),maxNumberTicketsPerBuyOrClaim:n.toNumber(),lotteryData:{status:"",startTime:0,endTime:1,priceTicketInCake:new Qe.a(Object(Wt.c)(a)),discountDivisor:new Qe.a(Object(Wt.c)(o)),treasuryFee:new Qe.a(0),firstTicketId:new Qe.a(0),lastTicketId:new Qe.a(0),amountCollectedInCake:new Qe.a(0),finalNumber:new Qe.a(0),cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:new Qe.a(0)}});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[s]),n}()),U=A.currentLotteryId,H=A.maxNumberTicketsPerBuyOrClaim,M=A.lotteryData,G=M.priceTicketInCake,Y=M.discountDivisor,q=Object(o.useMemo)((function(){return[]}),[]),Q=function(e,t){var n=Object(o.useReducer)(_n,{amount:e,userCurrentTickets:t},Kn),r=Object(a.a)(n,2),c=r[0],i=r[1];return Object(o.useEffect)((function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})}),[e,t]),[function(e,t){i({type:"updateTicket",payload:{ticketId:e,newNumbers:t}})},function(){i({type:"reset",payload:{amount:e,userCurrentTickets:t}})},c.tickets,c.allComplete,function(){return c.tickets.map((function(e){var t=Object(Nt.a)(e.numbers).map((function(e){return parseInt(e,10)})).reverse();return t.unshift(1),parseInt(t.join(""),10)}))}]}(parseInt(l,10),q),K=Object(a.a)(Q,5),_=(K[0],K[1],K[2],K[3],K[4]),V=Object(o.useCallback)((function(e){return G.times(e).times(Y.plus(1).minus(e)).div(Y)}),[Y,G]);Object(o.useEffect)((function(){var e=new Qe.a(l),t=V(e),n=G.times(e),r=n.minus(t);w(n.gt(0)?Object(g.c)(n):"0"),I(t.gt(0)?Object(g.c)(t):"0"),f(r.gt(0)?Object(g.c)(r,18):"0")}),[l,G,Y,V]);var Z=Object(o.useCallback)(Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),t=_(),e.next=5,R.buyTickets(U,t);case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[R,U,_]),J=Object(o.useCallback)((function(){Number(L)>parseInt(H)?v.g-P>parseInt(H)?u(H):u((v.g-P).toString()):v.g-P>Number(L)?u(L.toString()):u(v.h.toString())}),[L,P,H]);return Object(Fe.jsxs)(y.Z,{title:B(450,"Enter amount of tickets to buy"),onDismiss:n,children:[Object(Fe.jsx)(Yn.a,{value:l,onSelectMax:J,onChange:function(e){return u(e.currentTarget.value)},max:W,symbol:"TICKET",availableSymbol:"LUCKY"}),Object(Fe.jsxs)("div",{children:[Object(Fe.jsx)(Zn,{children:B(999,"1 Ticket = ".concat(v.j," LUCKY"),{num:v.j})}),Object(Fe.jsx)(Zn,{children:B(999,"Cost: ".concat(G&&Object(g.c)(G.times(l||0))," lucky"))}),Object(Fe.jsx)(Zn,{children:B(999,"Discount: ".concat(p&&S?function(){var e=new Qe.a(p).div(new Qe.a(m)).times(100);return e.isNaN()||e.eq(0)?0:e.toNumber().toFixed(2)}():0," %"))}),Object(Fe.jsx)(Zn,{children:B(999,"~ ".concat(p," Lucky"))})]}),Object(Fe.jsxs)("div",{children:[Object(Fe.jsx)(Xn,{children:B(478,"Ticket purchases are final. Your LUCKY cannot be returned to you after buying tickets.")}),"s",Object(Fe.jsx)(Jn,{children:B(460,"You will spend: ".concat(S," LUCKY"))}),Object(Fe.jsx)(Jn,{children:B(999,"Your ticket: ".concat(P))})]}),Object(Fe.jsxs)(qn.a,{children:[Object(Fe.jsx)(y.k,{width:"100%",variant:"secondary",onClick:n,children:B(462,"Cancel")}),Object(Fe.jsx)(y.k,{id:"lottery-buy-complete",width:"100%",variant:"secondary",disabled:N||parseInt(l)>Number(L)||parseInt(l)>parseInt(H)||parseInt(l)<1,onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,Z();case 3:z(!1),n();case 5:case"end":return e.stop()}}),e)}))),children:N?B(488,"Pending Confirmation"):B(464,"Confirm")})]})]})},Zn=l.default.div(dn||(dn=Object(s.a)(["\n  margin-left: 0.4em;\n  font-size: 14px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),Jn=l.default.div(bn||(bn=Object(s.a)(["\n  margin-top: 1em;\n  text-align: center;\n  font-size: 20px;\n  font-weight: 600;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),Xn=l.default.div(jn||(jn=Object(s.a)(["\n  margin-top: 1em;\n  margin-left: 0.4em;\n  color: #fff;\n"]))),$n=Object(l.default)(y.G)(xn||(xn=Object(s.a)(["\n  position: relative;\n  padding: 4px 16px;\n  border-radius: ",";\n  background: black;\n  justify-content: space-between;\n"])),(function(e){return e.theme.radii.default})),er=l.default.div(pn||(pn=Object(s.a)(["\n  z-index: 1;\n  width: ",";\n  height: 34px;\n  border-radius: ",";\n  top: 0;\n  left: 0;\n  position: absolute;\n  border: 2px "," solid;\n"])),(function(e){var t=e.numberMatches;return"".concat(t<6?17.66*t:100,"%")}),(function(e){return e.theme.radii.default}),(function(e){return e.theme.colors.primary})),tr=function(e){var t=e.localId,n=e.id,r=e.number,c=e.rewardBracket,i=Object(b.a)(),a=Ke(r).split(""),s=c+1;return Object(Fe.jsxs)(y.G,{flexDirection:"column",mb:"12px",children:[Object(Fe.jsxs)(y.G,{justifyContent:"space-between",children:[Object(Fe.jsxs)(y.wb,{fontSize:"12px",color:"textSubtle",children:["#",t||n]}),c>=0&&Object(Fe.jsxs)(y.wb,{fontSize:"12px",children:[i(999,"Matched first")," ",s]})]}),Object(Fe.jsxs)($n,{children:[c>=0&&Object(Fe.jsx)(er,{numberMatches:s}),a.map((function(e){return Object(Fe.jsx)(y.wb,{fontSize:"16px",children:e})}))]})]})},nr=(l.default.div(fn||(fn=Object(s.a)(["\n  color: #ff8c28;\n"]))),l.default.div(On||(On=Object(s.a)(["\n  text-align: center;\n  overflow-y: auto;\n  max-height: 400px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary}))),rr=Object(l.default)(y.k)(hn||(hn=Object(s.a)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.spacing[2]})),cr=function(e){var t=e.myTicketNumbers,n=e.onDismiss,r=Object(b.a)(),c=Object(w.o)(),i=(c.isTransitioning,c.currentRound),a=(i.status,i.userTickets.tickets.map((function(e,t){return Object(Fe.jsx)("p",{style:{color:"yellow"},children:Object(Fe.jsx)(tr,{localId:t+1,id:e.id,number:e.number,rewardBracket:e.rewardBracket,status:e.status},e.id)},e.id)})));return Object(Fe.jsxs)(y.Z,{title:r(490,"My Tickets (Total: ".concat(t.length,")"),{TICKETS:t.length}),onDismiss:n,children:[Object(Fe.jsx)(nr,{children:Object(Fe.jsx)("h2",{children:a})}),Object(Fe.jsx)(rr,{variant:"secondary",onClick:n,children:r(438,"Close")})]})},ir=l.default.div(mn||(mn=Object(s.a)(["\n  text-align: left;\n  overflow-y: auto;\n  max-height: 400px;\n  color: ",";\n"])),(function(e){return e.theme.colors.primary})),ar=function(e){var t=e.onDismiss,n=Object(b.a)();return Object(Fe.jsxs)(y.Z,{title:n(466,"Warning"),onDismiss:t,children:[Object(Fe.jsxs)(ir,{children:[n(468,"Lottery ticket purchases are final."),Object(Fe.jsx)("br",{}),n(470,"Your CAKE will not be returned to you after you spend it to buy tickets."),Object(Fe.jsx)("br",{}),n(472,"Tickets are only valid for one lottery draw, and will be burned after the draw."),Object(Fe.jsx)("br",{}),n(474,"Buying tickets does not guarantee you will win anything. Please only participate once you understand the risks.")]}),Object(Fe.jsx)(qn.a,{children:Object(Fe.jsx)(y.k,{width:"100%",onClick:t,children:n(476,"I understand")})})]})};function sr(e,t){return t.addedTime-e.addedTime}var or,lr,ur,dr,br,jr,xr,pr,fr,Or,hr,mr,gr,vr,wr,yr,kr,Cr=Object(Fe.jsx)(y.e,{spin:!0,color:"currentColor"}),Sr=l.default.div(gn||(gn=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ","px;\n\n  "," {\n    justify-content: space-between;\n  }\n"])),(function(e){return e.theme.spacing[3]}),(function(e){return e.theme.mediaQueries.lg})),Ir=l.default.div(vn||(vn=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 20px;\n  width: 100%;\n"]))),Tr=function(){var e=Object(b.a)(),t=Object(o.useState)(0),n=Object(a.a)(t,2),r=n[0],s=n[1],l=Object(o.useState)(0),u=Object(a.a)(l,2),d=u[0],j=u[1],O=(Object(I.a)(),Object(w.o)()),m=O.isTransitioning,g=O.currentRound,k=g.status,C=g.endTime,S=k!==Dt.a.OPEN||m,T=(new Date).getTime()<1e3*parseInt(C),N=Object(h.d)(),z=N.account,D=N.chainId,E=Object(x.f)(v.o[D],Un),B=Object(x.f)(v.o[D],Un),W=(Object(x.f)(Object(p.h)(),Mn),Object(x.f)(Object(p.i)(),f),Object(F.a)().fastRefresh),L=Rn(),P=L.length,R=Object(y.Ib)(Object(Fe.jsx)(cr,{myTicketNumbers:L,from:"buy"})),A=Object(a.a)(R,1)[0],U=Object(y.Ib)(Object(Fe.jsx)(ar,{})),H=(Object(a.a)(U,1)[0],Object(y.Ib)(Object(Fe.jsx)(Vn,{max:new Qe.a(r),tokenName:"CAKE"}))),M=Object(a.a)(H,1)[0],G=Object(Hn.a)(v.o[D]).listenApproveEvent;Object(o.useEffect)((function(){var e=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&E)try{j(new Qe.a("10000000000000000000000000000000").toNumber())}catch(t){console.log(" error fetch approval data")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();G((function(){return e()}))}),[G,z,E]),Object(o.useEffect)((function(){B&&B.balanceOf(z).then((function(e){s(e.toString())})).catch((function(e){return console.log("lottery : ",e)}))}),[z]),Object(o.useEffect)((function(){B&&B.balanceOf(z).then((function(e){s(e.toString())})).catch((function(e){return console.log("lottery : ",e)}))}),[z,W]),Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z||!E){e.next=11;break}return e.prev=1,e.next=4,null===E||void 0===E||null===(t=E.allowance)||void 0===t?void 0:t.call(E,z,Object(p.i)());case 4:n=e.sent,j(n.toString()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(" error fetch approval data");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[z,E]);var Y=Object(o.useState)(!1),q=Object(a.a)(Y,2),Q=q[0],K=q[1],_=Object(An.c)(v.o[D],Object(p.i)()),V=Object(a.a)(_,1)[0];function Z(){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",V());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=Object(o.useCallback)(Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),e.next=4,Z().then();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[V,K]),$=Object(Gn.b)(),ee=Object(o.useMemo)((function(){return Object.values($).filter(Gn.a).sort(sr)}),[$]),te=function(){return!!ee.filter((function(e){return!e.receipt})).map((function(e){return e.hash})).length};return Object(Fe.jsx)(Sr,{children:S?Object(Fe.jsxs)(y.k,{className:"btn-center",disabled:!0,children:[" ",e(874,"On sale soon")]}):"0"===d.toString()?Object(Fe.jsxs)(Ir,{children:[Object(Fe.jsx)(y.k,{style:{marginRight:"8px"},width:"100%",disabled:0===P,variant:"secondary",onClick:A,children:e(432,"View your tickets")}),Object(Fe.jsxs)(y.k,{className:"border-yellow",width:"100%",disabled:Q||te(),onClick:X,children:[te()?Cr:"",e(494,"Approve")]})]}):Object(Fe.jsxs)(Fe.Fragment,{children:[Object(Fe.jsx)(y.k,{style:{marginRight:"8px"},width:"100%",disabled:0===P,variant:"secondary",onClick:A,children:e(432,"View your tickets")}),Object(Fe.jsxs)(y.k,{variant:"secondary",id:"lottery-buy-start",width:"100%",disabled:!T||S,onClick:M,children:[te()?Cr:"",e(430,"Buy ticket")]})]})})},Fr=Object(l.default)(y.o)(or||(or=Object(s.a)(["\n  margin: 0 !important;\n  max-width: 100% !important;\n  border-radius: 14px;\n\n  ","\n"])),(function(e){return e.isSecondCard?"  \n        margin-top: 0;\n\n        ".concat(e.theme.mediaQueries.sm," {\n          margin-top: 0;\n        }\n\n        ").concat(e.theme.mediaQueries.lg," {\n          margin-top: 0;\n        }\n        "):""})),Nr=l.default.div(lr||(lr=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n"]))),zr=l.default.div(ur||(ur=Object(s.a)(["\n  margin-bottom: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),Dr=l.default.div(dr||(dr=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n"]))),Er=function(e){var t=e.isSecondCard,n=void 0!==t&&t,r=Object(O.a)().chainId,s=Object(b.a)(),l=Object(I.a)(),u=Object(w.o)(),d=u.isTransitioning,j=u.currentRound.status!==Dt.a.OPEN||d,x=Rn().length,p=Object(T.a)(),f=(l&&D(p),Object(F.a)().fastRefresh),h=Object(o.useState)(""),m=Object(a.a)(h,2),g=(m[0],m[1]),k=Object(o.useState)(""),C=Object(a.a)(k,2),N=C[0],z=C[1],B=56===r?v.c:v.b;return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,n=new Date,e.next=4,S.a.get("".concat(B,"/lotteries"));case 4:r=e.sent,i=r.data,t.setHours(i[0].timeDrawLottery.hh,i[0].timeDrawLottery.mm,0),g(E(t)),n.setHours(i[0].timeStartNewPhase.hh,i[0].timeStartNewPhase.mm,0),z(E(n));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f,B]),Object(Fe.jsx)(Fr,{isSecondCard:n,children:Object(Fe.jsxs)(y.p,{children:[Object(Fe.jsxs)(Nr,{children:[Object(Fe.jsx)(zr,{children:Object(Fe.jsx)("img",{alt:"",src:"../images/icon-lottery.svg"})}),j?Object(Fe.jsxs)(Dr,{children:[Object(Fe.jsx)(y.wb,{fontSize:"20px",color:"textSubtle",children:s(870,"Your ticket for this round")}),Object(Fe.jsx)(y.H,{size:"lg",style:{color:"#F3C111",fontSize:"30px"},children:N})]}):Object(Fe.jsxs)(Dr,{children:[Object(Fe.jsx)(y.wb,{fontSize:"14px",color:"textSubtle",children:s(724,"Your tickets for this round")}),Object(Fe.jsx)(y.H,{size:"lg",children:x})]})]}),Object(Fe.jsx)(Tr,{})]})})},Br=l.default.div(br||(br=Object(s.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1200px;\n  margin-bottom: 30px;\n  margin: 0 auto 40px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 14px;\n  padding: 20px;\n  background-color: #2b2a2a;\n  text-align: center;\n"]))),Wr=l.default.div(jr||(jr=Object(s.a)(["\n\n"]))),Lr=l.default.h2(xr||(xr=Object(s.a)(["\n  font-size: 40px;\n  line-height: 50px;\n  margin-bottom: 13px;\n  color: #fff;\n  font-weight: 700;\n  text-transform: capitalize;\n"]))),Pr=l.default.p(pr||(pr=Object(s.a)(["\n  max-width: 650px;\n  font-size: 16px;\n  line-height: 26px;\n  color: #fff;\n  margin: 0 auto;\n"]))),Rr=l.default.h2(fr||(fr=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 20px;\n  margin-top: 30px;\n\n  @media (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n"]))),Ar=l.default.div(Or||(Or=Object(s.a)(['\n  text-align: left;\n  overflow: hidden;\n  position: relative;\n  margin-bottom: 30px;\n  background: #f4c706;\n  box-shadow: 0px 30px 20px 0px rgb(0 37 93 / 15%);\n  border-radius: 15px;\n  transition: all 0.3s ease-in;\n  cursor: pointer;\n\n  &:after {\n    position: absolute;\n    content: "";\n    background: linear-gradient(to right,#ffd009,#f97503);\n    width: 0%;\n    height: 0%;\n    top: 50%;\n    left: 50%;\n    bottom: 0px;\n    opacity: 0;\n    transform: translate(-50%, -50%);\n    transition: all 0.3s ease-in;\n    border-radius: 50%;\n  }\n\n  &:hover {\n    transform: translateY(0px) !important;\n\n    &:after {\n      width: 100%;\n      height: 100%;\n      opacity: 1;\n      border-radius: 0%;\n    }\n\n    .btn-step {\n      color: #1a1a1a;\n\n      &:before {\n        background-color: #fce307;\n      }\n    }\n  }\n']))),Ur=l.default.div(hr||(hr=Object(s.a)(["\n  width: 100%;\n  position: relative;\n  z-index: 99;\n  padding: 30px 22px;\n  transition: 0.3s ease-in;\n"]))),Hr=l.default.h3(mr||(mr=Object(s.a)(["\n  color: #1a1a1a;\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 15px;\n"]))),Mr=l.default.p(gr||(gr=Object(s.a)(["\n  font-size: 16px;\n  color: #464646;\n"]))),Gr=l.default.span(vr||(vr=Object(s.a)(["\n\tdisplay: flex;\n  justify-content: center;\n  margin-left: auto;\n  width: 80px;\n\tpadding: 10px 0;\n\tborder-radius: 10rem;\n\tcolor: #fff;\n\ttext-transform: uppercase;\n\tfont-size: 1rem;\n\ttransition: all .3s;\n\tposition: relative;\n\toverflow: hidden;\n\tz-index: 1;\n\n\t&:after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground-color: #c5892e;\n\t\tborder-radius: 10rem;\n\t\tz-index: -2;\n\t}\n\n\t&:before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttransition: all .3s;\n\t\tborder-radius: 10rem;\n\t\tz-index: -1;\n\t}\n"]))),Yr=function(){return Object(Fe.jsxs)(Br,{children:[Object(Fe.jsxs)(Wr,{children:[Object(Fe.jsx)(Lr,{children:"How to Play"}),Object(Fe.jsx)(Pr,{children:"If the digits on your tickets match the winning numbers in the correct order, you win a portion of the prize pool Simple!"})]}),Object(Fe.jsxs)(Rr,{children:[Object(Fe.jsx)(Ar,{children:Object(Fe.jsxs)(Ur,{children:[Object(Fe.jsx)(Gr,{className:"btn-step",children:"STEP 1"}),Object(Fe.jsx)(Hr,{children:"Buy tickets"}),Object(Fe.jsx)(Mr,{children:"Prices are set when the round starts, equal to 1 LUCKY per ticket."})]})}),Object(Fe.jsx)(Ar,{children:Object(Fe.jsxs)(Ur,{children:[Object(Fe.jsx)(Gr,{className:"btn-step",children:"STEP 2"}),Object(Fe.jsx)(Hr,{children:"Wait for the Draw"}),Object(Fe.jsx)(Mr,{children:"There are two draws every day: once every 24h."})]})}),Object(Fe.jsx)(Ar,{children:Object(Fe.jsxs)(Ur,{children:[Object(Fe.jsx)(Gr,{className:"btn-step",children:"step 3"}),Object(Fe.jsx)(Hr,{children:"Check for Prizes"}),Object(Fe.jsx)(Mr,{children:"Once the round's over, come back to the page and check to see if you've won!"})]})})]})]})},qr=function(e){var t=e.error;return Object(Fe.jsx)(y.wb,{p:"24px",children:t.message})},Qr=["valueToDisplay","children","Icon","Ic"],Kr=l.default.div(wr||(wr=Object(s.a)(["\n  margin-right: 16px;\n\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),_r=l.default.div(yr||(yr=Object(s.a)(["\n  display: flex;\n  img{\n    width: 75px;\n    margin-right: 20px\n  }\n"]))),Vr=l.default.div(kr||(kr=Object(s.a)(["\n  width: 70px;\n  height: 70px;\n  font-weight: 900;\n  margin-right: 10px;\n  border-radius: 10px;\n  color: #F3C111;\n  font-size: 34px;\n  background-image: url(../images/border.png);\n  position: relative;\n  span{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n"]))),Zr=function(e){var t=e.valueToDisplay,n=e.children,r=e.Icon,c=e.Ic,i=Object(Zt.a)(e,Qr);return Object(Fe.jsxs)(y.G,Object(zt.a)(Object(zt.a)({},i),{},{children:[r&&Object(Fe.jsx)(Kr,{children:Object(Fe.jsx)(r,{})}),Object(Fe.jsxs)(y.G,{className:"box-lucky",flexDirection:"column",children:[Object(Fe.jsx)(y.wb,{fontSize:"24px",mb:"20px",color:"textSubtle",children:n}),Object(Fe.jsxs)(_r,{children:[c&&Object(Fe.jsx)("img",{src:"../images/icon-lottery.svg",alt:""}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(Fe.jsx)(Vr,{children:Object(Fe.jsx)("span",{children:e})})}))]})]})]}))};Zr.defaultProps={valueToDisplay:[],children:""};var Jr,Xr,$r,ec,tc,nc,rc,cc,ic,ac,sc,oc,lc,uc,dc,bc,jc,xc,pc,fc,Oc,hc,mc,gc,vc,wc,yc,kc,Cc=Zr,Sc=l.default.div(Jr||(Jr=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-top: 24px;\n  margin: 0 auto;\n  margin-bottom: 40px;\n  display: block;\n  width: max-content;\n  & > div {\n    flex: 1;\n    width: 100%;\n  }\n"]))),Ic=(Object(l.default)(y.P)(Xr||(Xr=Object(s.a)(["\n  align-items: center;\n  display: flex;\n  height: 48px;\n  justify-content: center;\n  text-decoration: none;\n  width: 100%;\n"]))),Object(l.default)(y.k)($r||($r=Object(s.a)(["\n  width: max-content;\n  color: #f3c111 !important;\n  padding: 0 70px;\n  border-radius: 100px;\n  border-color: #F3C111 !important;\n  margin: 0 auto;\n  display: block;\n  margin-right: auto !important;\n"]))),function(e){e.contractLink;var t=e.lotteryNumber,n=(Object(b.a)(),Object(m.a)(t)),r=(n.length,Object(y.Ib)(Object(Fe.jsx)(cr,{myTicketNumbers:n,from:"buy"}))),c=(Object(a.a)(r,1)[0],Object(h.d)()),i=c.account;c.chainId;return i?Object(Fe.jsx)(Sc,{children:Object(Fe.jsx)("div",{})}):Object(Fe.jsx)(Sc,{children:Object(Fe.jsx)(En.a,{})})}),Tc=function(e){if(!e)return{};var t=new Date(e),n=t.toDateString();return{hours:t.getUTCHours(),monthAndDay:n.split(" ").splice(1,2).join(" ")}},Fc=l.default.div(ec||(ec=Object(s.a)(["\n  padding-top: 20px;\n"]))),Nc=function(e){var t=e.timeValue,n=Tc(t),r=n.monthAndDay,c=n.hours;return Object(Fe.jsx)(Fc,{children:Object(Fe.jsxs)(y.wb,{fontSize:"14px",children:[r,", ",c,":00 UTC"]})})},zc=l.default.div(tc||(tc=Object(s.a)(["\n  margin-bottom: 24px;\n"]))),Dc=l.default.div(nc||(nc=Object(s.a)(["\n  position: relative;\n  border-radius: 20px;\n  background: #FFFFFF;\n  ::placeholder {\n    color: #828282 !important;\n    opacity: 1;\n  }\n"]))),Ec=l.default.div(rc||(rc=Object(s.a)(["\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  /* Firefox */\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]))),Bc=Object(l.default)(y.L)(cc||(cc=Object(s.a)(["\n  padding-right: 30px;\n  border: 1px solid;\n  // background: #FFFFFF;\n  color: #828282; \n  padding-left: 50px;\n  background: transparent;\n  ::placeholder {\n    color: #828282 !important;\n    opacity: 1;\n  }\n"]))),Wc=l.default.div(ic||(ic=Object(s.a)(["\n  position: absolute;\n  left: 0px;\n  top: 50%;\n  transform: translate(0%, -50%);\n  width: auto;\n  \n"]))),Lc=Object(l.default)(y.k)(ac||(ac=Object(s.a)(["\n  border: unset;\n\n"]))),Pc=function(e){var t=e.initialLotteryNumber,n=e.onSubmit,r=Object(o.useState)(t),c=Object(a.a)(r,2),i=c[0],s=c[1],l=Object(o.useState)(!1),u=Object(a.a)(l,2),d=u[0],j=u[1];Object(b.a)();return Object(Fe.jsx)(zc,{children:Object(Fe.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(i)},children:Object(Fe.jsxs)(Dc,{children:[Object(Fe.jsx)(Wc,{children:Object(Fe.jsx)(Lc,{variant:"secondary",type:"submit",scale:"sm",disabled:d,children:Object(Fe.jsx)(y.nb,{style:{fill:"#828282",width:"25px"}})})}),Object(Fe.jsx)(Ec,{children:Object(Fe.jsx)(Bc,{value:i,type:"number",isWarning:d,max:t,onChange:function(e){var n=parseInt(e.currentTarget.value,10);j(n>t),s(n)},placeholder:"Enter Round Number...",style:{paddingLeft:"50px"}})})]})})})},Rc=l.default.div(sc||(sc=Object(s.a)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Ac=Object(l.default)(Cc)(oc||(oc=Object(s.a)(["\n  margin-bottom: ","px;\n  \n"])),(function(e){return e.theme.spacing[4]})),Uc=l.default.div(lc||(lc=Object(s.a)(["\n  padding: 10px;\n"]))),Hc=l.default.div(uc||(uc=Object(s.a)(["\n  \n  align-items: center;\n"]))),Mc=l.default.div(dc||(dc=Object(s.a)(["\n  display: grid;\n  @media (min-width: 991px) {\n    grid-template-columns: 1fr 1fr;\n  }\n"]))),Gc=l.default.div(bc||(bc=Object(s.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&display=swap');\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 900;\n  font-size: 36px;\n  line-height: 44px;\n    color: #252525;\n    text-shadow: 1px 1px 0 #F3C111,\n    -1px 1px 0 #F3C111,\n    1px -1px 0 #F3C111,\n    -1px -1px 0 #F3C111,\n    0px 1px 0 #F3C111,\n    0px -1px 0 #F3C111,\n    -1px 0px 0 #F3C111,\n    1px 0px 0 #F3C111,\n    2px 2px 0 #F3C111,\n    -2px 2px 0 #F3C111,\n    2px -2px 0 #F3C111,\n    -2px -2px 0 #F3C111,\n    0px 2px 0 #F3C111,\n    0px -2px 0 #F3C111,\n    -2px 0px 0 #F3C111,\n    2px 0px 0 #F3C111,\n    1px 2px 0 #F3C111,\n    -1px 2px 0 #F3C111,\n    1px -2px 0 #F3C111,\n    -1px -2px 0 #F3C111,\n    2px 1px 0 #F3C111,\n    -2px 1px 0 #F3C111,\n    2px -1px 0 #F3C111,\n    -2px -1px 0 #F3C111;\n"]))),Yc=l.default.div(jc||(jc=Object(s.a)(["\n  margin-bottom: 23px;\n  display: flex;\n  margin-top: 20px;\n  justify-content: space-around;\n  position: relative;\n"]))),qc=l.default.div(xc||(xc=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 15px 0 5px;\n\n  h2 {\n    font-size: 44px;\n    position: relative;\n    color: #f3c111;\n    font-weight: 700;\n  }\n\n  span {\n    font-size: 16px;\n    position: absolute;\n    top: 0;\n  }\n"]))),Qc=l.default.div(pc||(pc=Object(s.a)(["\n  margin-right: 16px;\n  svg {\n    width: 48px;\n    height: 48px;\n  }\n"]))),Kc=l.default.div(fc||(fc=Object(s.a)(["\n  padding-left: 60px;\n"]))),_c=function(e){var t=e.data,n=e.initialLotteryNumber,r=e.onSubmit,s=Object(b.a)(),l=+Object(g.b)(Object(m.d)()).toFixed(0),u=new qe.BigNumber(l).multipliedBy(Object(w.q)()).toNumber(),d=t.id,j=t.endTime,x=t.finalNumber,p=t.amountCollectedInCake,f=new Date(1e3*parseInt(j)),O=Ke(x).split(""),h=Object(o.useState)({priceTicketInCake:"",discountDivisor:"",amountCollectedInCake:"",cakePerBracket:[],countWinnersPerBracket:[],rewardsBreakdown:[],status:Dt.a.CLAIMABLE,startTime:"123123",endTime:"1212312312",treasuryFee:"0",firstTicketId:"0",lastTicketId:"0",finalNumber:1123123}),v=Object(a.a)(h,2),k=v[0],C=v[1],S=Object(Ge.i)(k);return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(d);case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[d]),t&&Object(Fe.jsxs)(Fe.Fragment,{children:[Object(Fe.jsxs)(Mc,{children:[Object(Fe.jsx)(y.p,{children:Object(Fe.jsxs)(Rc,{children:[Object(Fe.jsx)(Pc,{initialLotteryNumber:n,onSubmit:r}),Object(Fe.jsx)(Ac,{valueToDisplay:[O[0],O[1],O[2],O[3],O[4],O[5]],Ic:!0,children:s(999,"Winning numbers")}),Object(Fe.jsxs)(Hc,{children:[Object(Fe.jsx)(y.wb,{fontSize:"24px",fontWeight:"500",color:"textSubtle",children:s(722,"Total Pot:")}),Object(Fe.jsxs)(qc,{children:[Object(Fe.jsx)(Qc,{children:Object(Fe.jsx)("img",{width:"75px",alt:"",src:"/images/icon-logo-y.png"})}),Object(Fe.jsxs)(y.H,{style:{textShadow:"rgb(255 214 0) 0px 0px 25px",fontSize:"44"},size:"lg",children:[Object(g.b)(new qe.BigNumber(p))," ",Object(Fe.jsx)("span",{children:"LUCKY"})]})]}),Object(Fe.jsx)(Kc,{children:0!==u&&Object(Fe.jsx)(ot.a,{value:u})})]})]})}),Object(Fe.jsxs)(Uc,{children:[Object(Fe.jsxs)(Yc,{children:[Object(Fe.jsxs)(Gc,{children:["Round #",d]}),Object(Fe.jsx)(Nc,{timeValue:f})]}),Object(Fe.jsx)(y.q,{className:"no-border",children:!1===S.isLoading&&Object(Fe.jsx)(ft,{lotteryData:S})})]})]}),Object(Fe.jsx)(Ic,{contractLink:"https://testnet.bscscan.com/address/0x3e743ABbc0B7d23Cd6b83af54b0DE87743c145E5#readContract",lotteryNumber:parseInt(d)})]})},Vc=l.default.div(Oc||(Oc=Object(s.a)(["\n  width: 100%;\n  background: linear-gradient(45deg, rgb(35 35 35) 30%, rgb(45 45 45) 100%);\n  box-shadow: none;\n  display: block;\n  margin-bottom: 20px;\n  border-radius: 14px;\n\n  @media (min-width: 991px) {\n    margin-bottom: 30px;\n  }\n"]))),Zc=function(e){var t=e.error,n=e.data,r=e.initialLotteryNumber,c=e.onSubmit;return Object(Fe.jsx)(Vc,{children:t.message?Object(Fe.jsx)(qr,{error:t}):Object(Fe.jsx)(_c,{data:n,initialLotteryNumber:r,onSubmit:c})})},Jc=l.default.div(hc||(hc=Object(s.a)(["\n  border: 8px solid #f3f3f3;\n  border-radius: 50%;\n  border-top: 8px solid #ddd;\n  border-bottom: 8px solid #ddd;\n  width: 20px;\n  height: 20px;\n  -webkit-animation: spin 2s linear infinite;\n  animation: spin 2s linear infinite;\n  @-webkit-keyframes spin {\n    0% {\n      -webkit-transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]))),Xc=function(){return Object(Fe.jsx)(Jc,{})},$c=l.default.div(mc||(mc=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),ei=Object(l.default)(y.p)(gc||(gc=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 552px; // height of final card\n"]))),ti=function(){var e=Object(o.useState)({roundData:null,error:{message:null,type:null},isInitialized:!1,isLoading:!0}),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(b.a)(),l=n.roundData,u=n.error,d=n.isInitialized,j=n.isLoading,x=Object(w.l)(),p=Object(w.m)();Object(o.useEffect)((function(){p&&x&&r((function(e){return Object(zt.a)(Object(zt.a)({},e),{},{isLoading:!1,isInitialized:!0,roundData:p[parseInt(x)-2]})}))}),[p,x]);var f=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r((function(e){return Object(zt.a)(Object(zt.a)({},e),{},{isLoading:!0})})),t>parseInt(x)||t<=0?r((function(e){return Object(zt.a)(Object(zt.a)({},e),{},{error:{message:s(1076,"The lottery number you provided does not exist"),type:"out of range"},isLoading:!1,isInitialized:!0})})):r((function(e){return Object(zt.a)(Object(zt.a)({},e),{},{error:{message:null,type:null},roundData:p[t-1],isLoading:!1,isInitialized:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Fe.jsx)($c,{children:parseInt(x)>=2&&Object(Fe.jsx)("div",{children:!d||j?Object(Fe.jsx)(y.o,{children:Object(Fe.jsx)(ei,{children:Object(Fe.jsx)(Xc,{})})}):Object(Fe.jsx)(Zc,{initialLotteryNumber:parseInt(x)-1,onSubmit:f,error:u,data:l})})})},ni=(l.default.div(vc||(vc=Object(s.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 32px;\n"]))),l.default.div(wc||(wc=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 40px;\n  margin-bottom: 30px;\n\n  @media (min-width: 991px) {\n    grid-template-columns: ",";\n  }\n"])),(function(e){return e.account?"1fr 1fr":"unset"}))),ri=(l.default.div(yc||(yc=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 40px;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1200px;\n  margin-bottom: 30px;\n"]))),l.default.div(kc||(kc=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img {\n    width: 100%;\n    max-width: 750px;\n  }\n"]))),function(){Object(w.g)();var e=Object(O.a)().chainId,t=Object(x.f)(Object(p.g)(),f),n=(Object(b.a)(),Object(o.useState)(0)),r=Object(a.a)(n,2),s=(r[0],r[1],Object(o.useState)([])),l=Object(a.a)(s,2),y=l[0],k=l[1],C=Object(o.useState)(!1),S=Object(a.a)(C,2),I=S[0],T=S[1],F=Object(o.useState)(0),N=Object(a.a)(F,2),z=N[0],D=N[1],E=Object(o.useState)(null),B=Object(a.a)(E,2),W=B[0],L=B[1],P=Object(h.d)().account,R=Object(m.c)().claimAmount,A=Object(g.b)(R)>0,U=56===e?v.c:v.b;Object(o.useEffect)((function(){fetch("".concat(U,"/lotteries/history")).then((function(e){return e.json()})).then((function(e){e.sort((function(e,t){return e.lotteryNumber>t.lotteryNumber?-1:1})),k(e)})).catch((function(){T(!0)}))}),[U]),Object(o.useEffect)((function(){t&&function(){var e=Object(i.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(t);case 2:n=e.sent,r=n-1,D(n),L(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]);return Object(Fe.jsx)(Fe.Fragment,{children:Object(Fe.jsxs)(j.a,{children:[Object(Fe.jsx)(Me,{}),Object(Fe.jsx)(It,{}),Object(Fe.jsx)(ni,{account:P,isAWin:A,children:P?Object(Fe.jsxs)(Fe.Fragment,{children:[Object(Fe.jsx)(Er,{isSecondCard:A}),Object(Fe.jsx)(Dn,{})]}):Object(Fe.jsx)(Pn,{})}),Object(Fe.jsx)(at,{}),Object(Fe.jsx)(Yr,{}),Object(Fe.jsx)(u.a.Provider,{value:{historyError:I,historyData:y,mostRecentLotteryNumber:W,currentLotteryNumber:z},children:Object(Fe.jsx)(ti,{})})]})})})}}]);
//# sourceMappingURL=18.4e9124d5.chunk.js.map